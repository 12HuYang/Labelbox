!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):t.Labelbox=e()}(this,function(){"use strict";var extendStatics=function(t,e){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)};function __extends(t,e){function r(){this.constructor=t}extendStatics(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}function isFunction(t){return"function"==typeof t}var _enable_super_gross_mode_that_will_cause_bad_things=!1,config={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){t&&(new Error).stack;_enable_super_gross_mode_that_will_cause_bad_things=t},get useDeprecatedSynchronousErrorHandling(){return _enable_super_gross_mode_that_will_cause_bad_things}};function hostReportError(t){setTimeout(function(){throw t})}var empty={closed:!0,next:function(t){},error:function(t){if(config.useDeprecatedSynchronousErrorHandling)throw t;hostReportError(t)},complete:function(){}},isArray=Array.isArray||function(t){return t&&"number"==typeof t.length};function isObject(t){return null!=t&&"object"==typeof t}var errorObject={e:{}},tryCatchTarget;function tryCatcher(){try{return tryCatchTarget.apply(this,arguments)}catch(t){return errorObject.e=t,errorObject}}function tryCatch(t){return tryCatchTarget=t,tryCatcher}function UnsubscriptionErrorImpl(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}UnsubscriptionErrorImpl.prototype=Object.create(Error.prototype);var UnsubscriptionError=UnsubscriptionErrorImpl,Subscription=function(){function t(t){this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}var e;return t.prototype.unsubscribe=function(){var t,e=!1;if(!this.closed){var r=this._parent,n=this._parents,i=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,u=n?n.length:0;r;)r.remove(this),r=++s<u&&n[s]||null;if(isFunction(i))tryCatch(i).call(this)===errorObject&&(e=!0,t=t||(errorObject.e instanceof UnsubscriptionError?flattenUnsubscriptionErrors(errorObject.e.errors):[errorObject.e]));if(isArray(o))for(s=-1,u=o.length;++s<u;){var a=o[s];if(isObject(a))if(tryCatch(a.unsubscribe).call(a)===errorObject){e=!0,t=t||[];var c=errorObject.e;c instanceof UnsubscriptionError?t=t.concat(flattenUnsubscriptionErrors(c.errors)):t.push(c)}}if(e)throw new UnsubscriptionError(t)}},t.prototype.add=function(e){if(!e||e===t.EMPTY)return t.EMPTY;if(e===this)return this;var r=e;switch(typeof e){case"function":r=new t(e);case"object":if(r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if("function"!=typeof r._addParent){var n=r;(r=new t)._subscriptions=[n]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}return(this._subscriptions||(this._subscriptions=[])).push(r),r._addParent(this),r},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var r=e.indexOf(t);-1!==r&&e.splice(r,1)}},t.prototype._addParent=function(t){var e=this._parent,r=this._parents;e&&e!==t?r?-1===r.indexOf(t)&&r.push(t):this._parents=[t]:this._parent=t},t.EMPTY=((e=new t).closed=!0,e),t}();function flattenUnsubscriptionErrors(t){return t.reduce(function(t,e){return t.concat(e instanceof UnsubscriptionError?e.errors:e)},[])}var rxSubscriber="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),Subscriber=function(t){function e(r,n,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,o._parentSubscription=null,arguments.length){case 0:o.destination=empty;break;case 1:if(!r){o.destination=empty;break}if("object"==typeof r){r instanceof e?(o.syncErrorThrowable=r.syncErrorThrowable,o.destination=r,r.add(o)):(o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r));break}default:o.syncErrorThrowable=!0,o.destination=new SafeSubscriber(o,r,n,i)}return o}return __extends(e,t),e.prototype[rxSubscriber]=function(){return this},e.create=function(t,r,n){var i=new e(t,r,n);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parent,e=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=t,this._parents=e,this._parentSubscription=null,this},e}(Subscription),SafeSubscriber=function(t){function e(e,r,n,i){var o,s=t.call(this)||this;s._parentSubscriber=e;var u=s;return isFunction(r)?o=r:r&&(o=r.next,n=r.error,i=r.complete,r!==empty&&(isFunction((u=Object.create(r)).unsubscribe)&&s.add(u.unsubscribe.bind(u)),u.unsubscribe=s.unsubscribe.bind(s))),s._context=u,s._next=o,s._error=n,s._complete=i,s}return __extends(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,r=config.useDeprecatedSynchronousErrorHandling;if(this._error)r&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)r?(e.syncErrorValue=t,e.syncErrorThrown=!0):hostReportError(t),this.unsubscribe();else{if(this.unsubscribe(),r)throw t;hostReportError(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var r=function(){return t._complete.call(t._context)};config.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,r),this.unsubscribe()):(this.__tryOrUnsub(r),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),config.useDeprecatedSynchronousErrorHandling)throw t;hostReportError(t)}},e.prototype.__tryOrSetError=function(t,e,r){if(!config.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,r)}catch(e){return config.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=e,t.syncErrorThrown=!0,!0):(hostReportError(e),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(Subscriber);function canReportError(t){for(;t;){var e=t,r=e.closed,n=e.destination,i=e.isStopped;if(r||i)return!1;t=n&&n instanceof Subscriber?n:null}return!0}function toSubscriber(t,e,r){if(t){if(t instanceof Subscriber)return t;if(t[rxSubscriber])return t[rxSubscriber]()}return t||e||r?new Subscriber(t,e,r):new Subscriber(empty)}var observable="function"==typeof Symbol&&Symbol.observable||"@@observable";function noop(){}function pipe(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return pipeFromArray(t)}function pipeFromArray(t){return t?1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}:noop}var Observable=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var r=new t;return r.source=this,r.operator=e,r},t.prototype.subscribe=function(t,e,r){var n=this.operator,i=toSubscriber(t,e,r);if(n?n.call(i,this.source):i.add(this.source||config.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),config.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){config.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),canReportError(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var r=this;return new(e=getPromiseCtor(e))(function(e,n){var i;i=r.subscribe(function(e){try{t(e)}catch(t){n(t),i&&i.unsubscribe()}},n,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[observable]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:pipeFromArray(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=getPromiseCtor(t))(function(t,r){var n;e.subscribe(function(t){return n=t},function(t){return r(t)},function(){return t(n)})})},t.create=function(e){return new t(e)},t}();function getPromiseCtor(t){if(t||(t=config.Promise||Promise),!t)throw new Error("no Promise impl found");return t}function ObjectUnsubscribedErrorImpl(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}ObjectUnsubscribedErrorImpl.prototype=Object.create(Error.prototype);var ObjectUnsubscribedError=ObjectUnsubscribedErrorImpl,SubjectSubscription=function(t){function e(e,r){var n=t.call(this)||this;return n.subject=e,n.subscriber=r,n.closed=!1,n}return __extends(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var r=e.indexOf(this.subscriber);-1!==r&&e.splice(r,1)}}},e}(Subscription),SubjectSubscriber=function(t){function e(e){var r=t.call(this,e)||this;return r.destination=e,r}return __extends(e,t),e}(Subscriber),Subject=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return __extends(e,t),e.prototype[rxSubscriber]=function(){return new SubjectSubscriber(this)},e.prototype.lift=function(t){var e=new AnonymousSubject(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new ObjectUnsubscribedError;if(!this.isStopped)for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new ObjectUnsubscribedError;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,r=e.length,n=e.slice(),i=0;i<r;i++)n[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new ObjectUnsubscribedError;this.isStopped=!0;for(var t=this.observers,e=t.length,r=t.slice(),n=0;n<e;n++)r[n].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new ObjectUnsubscribedError;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new ObjectUnsubscribedError;return this.hasError?(t.error(this.thrownError),Subscription.EMPTY):this.isStopped?(t.complete(),Subscription.EMPTY):(this.observers.push(t),new SubjectSubscription(this,t))},e.prototype.asObservable=function(){var t=new Observable;return t.source=this,t},e.create=function(t,e){return new AnonymousSubject(t,e)},e}(Observable),AnonymousSubject=function(t){function e(e,r){var n=t.call(this)||this;return n.destination=e,n.source=r,n}return __extends(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):Subscription.EMPTY},e}(Subject);function refCount(){return function(t){return t.lift(new RefCountOperator$1(t))}}var RefCountOperator$1=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var r=this.connectable;r._refCount++;var n=new RefCountSubscriber$1(t,r),i=e.subscribe(n);return n.closed||(n.connection=r.connect()),i},t}(),RefCountSubscriber$1=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return __extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(Subscriber),ConnectableObservable=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subjectFactory=r,n._refCount=0,n._isComplete=!1,n}return __extends(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new Subscription).add(this.source.subscribe(new ConnectableSubscriber(this.getSubject(),this))),t.closed?(this._connection=null,t=Subscription.EMPTY):this._connection=t),t},e.prototype.refCount=function(){return refCount()(this)},e}(Observable),connectableProto=ConnectableObservable.prototype,connectableObservableDescriptor={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:connectableProto._subscribe},_isComplete:{value:connectableProto._isComplete,writable:!0},getSubject:{value:connectableProto.getSubject},connect:{value:connectableProto.connect},refCount:{value:connectableProto.refCount}},ConnectableSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return __extends(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(SubjectSubscriber),RefCountSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.connectable=r,n}return __extends(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var r=this.connection,n=t._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}else this.connection=null},e}(Subscriber);function groupBy(t,e,r,n){return function(i){return i.lift(new GroupByOperator(t,e,r,n))}}var GroupByOperator=function(){function t(t,e,r,n){this.keySelector=t,this.elementSelector=e,this.durationSelector=r,this.subjectSelector=n}return t.prototype.call=function(t,e){return e.subscribe(new GroupBySubscriber(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),GroupBySubscriber=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.keySelector=r,s.elementSelector=n,s.durationSelector=i,s.subjectSelector=o,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){return void this.error(t)}this._group(t,e)},e.prototype._group=function(t,e){var r=this.groups;r||(r=this.groups=new Map);var n,i=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!i){i=this.subjectSelector?this.subjectSelector():new Subject,r.set(e,i);var o=new GroupedObservable(e,i,this);if(this.destination.next(o),this.durationSelector){var s=void 0;try{s=this.durationSelector(new GroupedObservable(e,i))}catch(t){return void this.error(t)}this.add(s.subscribe(new GroupDurationSubscriber(e,i,this)))}}i.closed||i.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,r){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(Subscriber),GroupDurationSubscriber=function(t){function e(e,r,n){var i=t.call(this,r)||this;return i.key=e,i.group=r,i.parent=n,i}return __extends(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(Subscriber),GroupedObservable=function(t){function e(e,r,n){var i=t.call(this)||this;return i.key=e,i.groupSubject=r,i.refCountSubscription=n,i}return __extends(e,t),e.prototype._subscribe=function(t){var e=new Subscription,r=this.refCountSubscription,n=this.groupSubject;return r&&!r.closed&&e.add(new InnerRefCountSubscription(r)),e.add(n.subscribe(t)),e},e}(Observable),InnerRefCountSubscription=function(t){function e(e){var r=t.call(this)||this;return r.parent=e,e.count++,r}return __extends(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(Subscription),BehaviorSubject=function(t){function e(e){var r=t.call(this)||this;return r._value=e,r}return __extends(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var r=t.prototype._subscribe.call(this,e);return r&&!r.closed&&e.next(this._value),r},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new ObjectUnsubscribedError;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(Subject),Action=function(t){function e(e,r){return t.call(this)||this}return __extends(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(Subscription),AsyncAction=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n.pending=!1,n}return __extends(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var r=this.id,n=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(n,r,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(n,this.id,e),this},e.prototype.requestAsyncId=function(t,e,r){return void 0===r&&(r=0),setInterval(t.flush.bind(t,this),r)},e.prototype.recycleAsyncId=function(t,e,r){if(void 0===r&&(r=0),null!==r&&this.delay===r&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var r=this._execute(t,e);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var r=!1,n=void 0;try{this.work(t)}catch(t){r=!0,n=!!t&&t||new Error(t)}if(r)return this.unsubscribe(),n},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,r=e.actions,n=r.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==n&&r.splice(n,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(Action),QueueAction=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return __extends(e,t),e.prototype.schedule=function(e,r){return void 0===r&&(r=0),r>0?t.prototype.schedule.call(this,e,r):(this.delay=r,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,r){return r>0||this.closed?t.prototype.execute.call(this,e,r):this._execute(e,r)},e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0?t.prototype.requestAsyncId.call(this,e,r,n):e.flush(this)},e}(AsyncAction),Scheduler=function(){function t(e,r){void 0===r&&(r=t.now),this.SchedulerAction=e,this.now=r}return t.prototype.schedule=function(t,e,r){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(r,e)},t.now=function(){return Date.now()},t}(),AsyncScheduler=function(t){function e(r,n){void 0===n&&(n=Scheduler.now);var i=t.call(this,r,function(){return e.delegate&&e.delegate!==i?e.delegate.now():n()})||this;return i.actions=[],i.active=!1,i.scheduled=void 0,i}return __extends(e,t),e.prototype.schedule=function(r,n,i){return void 0===n&&(n=0),e.delegate&&e.delegate!==this?e.delegate.schedule(r,n,i):t.prototype.schedule.call(this,r,n,i)},e.prototype.flush=function(t){var e=this.actions;if(this.active)e.push(t);else{var r;this.active=!0;do{if(r=t.execute(t.state,t.delay))break}while(t=e.shift());if(this.active=!1,r){for(;t=e.shift();)t.unsubscribe();throw r}}},e}(Scheduler),QueueScheduler=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(AsyncScheduler),queue=new QueueScheduler(QueueAction),EMPTY=new Observable(function(t){return t.complete()});function empty$1(t){return t?emptyScheduled(t):EMPTY}function emptyScheduled(t){return new Observable(function(e){return t.schedule(function(){return e.complete()})})}function isScheduler(t){return t&&"function"==typeof t.schedule}var subscribeToArray=function(t){return function(e){for(var r=0,n=t.length;r<n&&!e.closed;r++)e.next(t[r]);e.closed||e.complete()}};function fromArray(t,e){return new Observable(e?function(r){var n=new Subscription,i=0;return n.add(e.schedule(function(){i!==t.length?(r.next(t[i++]),r.closed||n.add(this.schedule())):r.complete()})),n}:subscribeToArray(t))}function scalar(t){var e=new Observable(function(e){e.next(t),e.complete()});return e._isScalar=!0,e.value=t,e}function of(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];switch(isScheduler(r)?t.pop():r=void 0,t.length){case 0:return empty$1(r);case 1:return r?fromArray(t,r):scalar(t[0]);default:return fromArray(t,r)}}function throwError(t,e){return new Observable(e?function(r){return e.schedule(dispatch,0,{error:t,subscriber:r})}:function(e){return e.error(t)})}function dispatch(t){var e=t.error;t.subscriber.error(e)}var Notification=function(){function t(t,e,r){this.kind=t,this.value=e,this.error=r,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,r){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return r&&r()}},t.prototype.accept=function(t,e,r){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,r)},t.prototype.toObservable=function(){switch(this.kind){case"N":return of(this.value);case"E":return throwError(this.error);case"C":return empty$1()}throw new Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function observeOn(t,e){return void 0===e&&(e=0),function(r){return r.lift(new ObserveOnOperator(t,e))}}var ObserveOnOperator=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new ObserveOnSubscriber(t,this.scheduler,this.delay))},t}(),ObserveOnSubscriber=function(t){function e(e,r,n){void 0===n&&(n=0);var i=t.call(this,e)||this;return i.scheduler=r,i.delay=n,i}return __extends(e,t),e.dispatch=function(t){var e=t.notification,r=t.destination;e.observe(r),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new ObserveOnMessage(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(Notification.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(Notification.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(Notification.createComplete()),this.unsubscribe()},e}(Subscriber),ObserveOnMessage=function(){return function(t,e){this.notification=t,this.destination=e}}(),ReplaySubject=function(t){function e(e,r,n){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this)||this;return i.scheduler=n,i._events=[],i._infiniteTimeWindow=!1,i._bufferSize=e<1?1:e,i._windowTime=r<1?1:r,r===Number.POSITIVE_INFINITY?(i._infiniteTimeWindow=!0,i.next=i.nextInfiniteTimeWindow):i.next=i.nextTimeWindow,i}return __extends(e,t),e.prototype.nextInfiniteTimeWindow=function(e){var r=this._events;r.push(e),r.length>this._bufferSize&&r.shift(),t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this._events.push(new ReplayEvent(this._getNow(),e)),this._trimBufferThenGetEvents(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,r=this._infiniteTimeWindow,n=r?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,o=n.length;if(this.closed)throw new ObjectUnsubscribedError;if(this.isStopped||this.hasError?e=Subscription.EMPTY:(this.observers.push(t),e=new SubjectSubscription(this,t)),i&&t.add(t=new ObserveOnSubscriber(t,i)),r)for(var s=0;s<o&&!t.closed;s++)t.next(n[s]);else for(s=0;s<o&&!t.closed;s++)t.next(n[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||queue).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,r=this._windowTime,n=this._events,i=n.length,o=0;o<i&&!(t-n[o].time<r);)o++;return i>e&&(o=Math.max(o,i-e)),o>0&&n.splice(0,o),n},e}(Subject),ReplayEvent=function(){return function(t,e){this.time=t,this.value=e}}(),AsyncSubject=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return __extends(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),Subscription.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),Subscription.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(Subject),nextHandle=1,tasksByHandle={};function runIfPresent(t){var e=tasksByHandle[t];e&&e()}var Immediate={setImmediate:function(t){var e=nextHandle++;return tasksByHandle[e]=t,Promise.resolve().then(function(){return runIfPresent(e)}),e},clearImmediate:function(t){delete tasksByHandle[t]}},AsapAction=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return __extends(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=Immediate.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(Immediate.clearImmediate(r),e.scheduled=void 0)},e}(AsyncAction),AsapScheduler=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(AsyncScheduler),asap=new AsapScheduler(AsapAction),async=new AsyncScheduler(AsyncAction),AnimationFrameAction=function(t){function e(e,r){var n=t.call(this,e,r)||this;return n.scheduler=e,n.work=r,n}return __extends(e,t),e.prototype.requestAsyncId=function(e,r,n){return void 0===n&&(n=0),null!==n&&n>0?t.prototype.requestAsyncId.call(this,e,r,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(function(){return e.flush(null)})))},e.prototype.recycleAsyncId=function(e,r,n){if(void 0===n&&(n=0),null!==n&&n>0||null===n&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,r,n);0===e.actions.length&&(cancelAnimationFrame(r),e.scheduled=void 0)},e}(AsyncAction),AnimationFrameScheduler=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,r=this.actions,n=-1,i=r.length;t=t||r.shift();do{if(e=t.execute(t.state,t.delay))break}while(++n<i&&(t=r.shift()));if(this.active=!1,e){for(;++n<i&&(t=r.shift());)t.unsubscribe();throw e}},e}(AsyncScheduler),animationFrame=new AnimationFrameScheduler(AnimationFrameAction),VirtualTimeScheduler=function(t){function e(e,r){void 0===e&&(e=VirtualAction),void 0===r&&(r=Number.POSITIVE_INFINITY);var n=t.call(this,e,function(){return n.frame})||this;return n.maxFrames=r,n.frame=0,n.index=-1,n}return __extends(e,t),e.prototype.flush=function(){for(var t,e,r=this.actions,n=this.maxFrames;(e=r.shift())&&(this.frame=e.delay)<=n&&!(t=e.execute(e.state,e.delay)););if(t){for(;e=r.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(AsyncScheduler),VirtualAction=function(t){function e(e,r,n){void 0===n&&(n=e.index+=1);var i=t.call(this,e,r)||this;return i.scheduler=e,i.work=r,i.index=n,i.active=!0,i.index=e.index=n,i}return __extends(e,t),e.prototype.schedule=function(r,n){if(void 0===n&&(n=0),!this.id)return t.prototype.schedule.call(this,r,n);this.active=!1;var i=new e(this.scheduler,this.work);return this.add(i),i.schedule(r,n)},e.prototype.requestAsyncId=function(t,r,n){void 0===n&&(n=0),this.delay=t.frame+n;var i=t.actions;return i.push(this),i.sort(e.sortActions),!0},e.prototype.recycleAsyncId=function(t,e,r){void 0===r&&(r=0)},e.prototype._execute=function(e,r){if(!0===this.active)return t.prototype._execute.call(this,e,r)},e.sortActions=function(t,e){return t.delay===e.delay?t.index===e.index?0:t.index>e.index?1:-1:t.delay>e.delay?1:-1},e}(AsyncAction);function identity(t){return t}function isObservable(t){return!!t&&(t instanceof Observable||"function"==typeof t.lift&&"function"==typeof t.subscribe)}function ArgumentOutOfRangeErrorImpl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}ArgumentOutOfRangeErrorImpl.prototype=Object.create(Error.prototype);var ArgumentOutOfRangeError=ArgumentOutOfRangeErrorImpl;function EmptyErrorImpl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}EmptyErrorImpl.prototype=Object.create(Error.prototype);var EmptyError=EmptyErrorImpl;function TimeoutErrorImpl(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}TimeoutErrorImpl.prototype=Object.create(Error.prototype);var TimeoutError=TimeoutErrorImpl;function map(t,e){return function(r){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return r.lift(new MapOperator(t,e))}}var MapOperator=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new MapSubscriber(t,this.project,this.thisArg))},t}(),MapSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.project=r,i.count=0,i.thisArg=n||i,i}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Subscriber);function bindCallback(t,e,r){if(e){if(!isScheduler(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return bindCallback(t,r).apply(void 0,n).pipe(map(function(t){return isArray(t)?e.apply(void 0,t):e(t)}))};r=e}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i,o=this,s={context:o,subject:i,callbackFunc:t,scheduler:r};return new Observable(function(n){if(r){var u={args:e,subscriber:n,params:s};return r.schedule(dispatch$1,0,u)}if(!i){i=new AsyncSubject;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];i.next(t.length<=1?t[0]:t),i.complete()}]))}catch(t){canReportError(i)?i.error(t):console.warn(t)}}return i.subscribe(n)})}}function dispatch$1(t){var e=this,r=t.args,n=t.subscriber,i=t.params,o=i.callbackFunc,s=i.context,u=i.scheduler,a=i.subject;if(!a){a=i.subject=new AsyncSubject;try{o.apply(s,r.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.length<=1?t[0]:t;e.add(u.schedule(dispatchNext,0,{value:n,subject:a}))}]))}catch(t){a.error(t)}}this.add(a.subscribe(n))}function dispatchNext(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function bindNodeCallback(t,e,r){if(e){if(!isScheduler(e))return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];return bindNodeCallback(t,r).apply(void 0,n).pipe(map(function(t){return isArray(t)?e.apply(void 0,t):e(t)}))};r=e}return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i={subject:void 0,args:e,callbackFunc:t,scheduler:r,context:this};return new Observable(function(n){var o=i.context,s=i.subject;if(r)return r.schedule(dispatch$2,0,{params:i,subscriber:n,context:o});if(!s){s=i.subject=new AsyncSubject;try{t.apply(o,e.concat([function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.shift();r?s.error(r):(s.next(t.length<=1?t[0]:t),s.complete())}]))}catch(t){canReportError(s)?s.error(t):console.warn(t)}}return s.subscribe(n)})}}function dispatch$2(t){var e=this,r=t.params,n=t.subscriber,i=t.context,o=r.callbackFunc,s=r.args,u=r.scheduler,a=r.subject;if(!a){a=r.subject=new AsyncSubject;try{o.apply(i,s.concat([function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];var n=t.shift();if(n)e.add(u.schedule(dispatchError$1,0,{err:n,subject:a}));else{var i=t.length<=1?t[0]:t;e.add(u.schedule(dispatchNext$1,0,{value:i,subject:a}))}}]))}catch(t){this.add(u.schedule(dispatchError$1,0,{err:t,subject:a}))}}this.add(a.subscribe(n))}function dispatchNext$1(t){var e=t.value,r=t.subject;r.next(e),r.complete()}function dispatchError$1(t){var e=t.err;t.subject.error(e)}var OuterSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(Subscriber),InnerSubscriber=function(t){function e(e,r,n){var i=t.call(this)||this;return i.parent=e,i.outerValue=r,i.outerIndex=n,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(Subscriber),subscribeToPromise=function(t){return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,hostReportError),e}};function getSymbolIterator(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var iterator=getSymbolIterator(),subscribeToIterable=function(t){return function(e){for(var r=t[iterator]();;){var n=r.next();if(n.done){e.complete();break}if(e.next(n.value),e.closed)break}return"function"==typeof r.return&&e.add(function(){r.return&&r.return()}),e}},subscribeToObservable=function(t){return function(e){var r=t[observable]();if("function"!=typeof r.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return r.subscribe(e)}},isArrayLike=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function isPromise(t){return t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var subscribeTo=function(t){if(t instanceof Observable)return function(e){return t._isScalar?(e.next(t.value),void e.complete()):t.subscribe(e)};if(t&&"function"==typeof t[observable])return subscribeToObservable(t);if(isArrayLike(t))return subscribeToArray(t);if(isPromise(t))return subscribeToPromise(t);if(t&&"function"==typeof t[iterator])return subscribeToIterable(t);var e=isObject(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+e+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function subscribeToResult(t,e,r,n,i){if(void 0===i&&(i=new InnerSubscriber(t,r,n)),!i.closed)return subscribeTo(e)(i)}var NONE={};function combineLatest(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null,n=null;return isScheduler(t[t.length-1])&&(n=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&isArray(t[0])&&(t=t[0]),fromArray(t,n).lift(new CombineLatestOperator(r))}var CombineLatestOperator=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new CombineLatestSubscriber(t,this.resultSelector))},t}(),CombineLatestSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.resultSelector=r,n.active=0,n.values=[],n.observables=[],n}return __extends(e,t),e.prototype._next=function(t){this.values.push(NONE),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var r=0;r<e;r++){var n=t[r];this.add(subscribeToResult(this,n,n,r))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.values,s=o[r],u=this.toRespond?s===NONE?--this.toRespond:this.toRespond:0;o[r]=e,0===u&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(OuterSubscriber);function isInteropObservable(t){return t&&"function"==typeof t[observable]}function isIterable(t){return t&&"function"==typeof t[iterator]}function fromPromise(t,e){return new Observable(e?function(r){var n=new Subscription;return n.add(e.schedule(function(){return t.then(function(t){n.add(e.schedule(function(){r.next(t),n.add(e.schedule(function(){return r.complete()}))}))},function(t){n.add(e.schedule(function(){return r.error(t)}))})})),n}:subscribeToPromise(t))}function fromIterable(t,e){if(!t)throw new Error("Iterable cannot be null");return new Observable(e?function(r){var n,i=new Subscription;return i.add(function(){n&&"function"==typeof n.return&&n.return()}),i.add(e.schedule(function(){n=t[iterator](),i.add(e.schedule(function(){if(!r.closed){var t,e;try{var i=n.next();t=i.value,e=i.done}catch(t){return void r.error(t)}e?r.complete():(r.next(t),this.schedule())}}))})),i}:subscribeToIterable(t))}function fromObservable(t,e){return new Observable(e?function(r){var n=new Subscription;return n.add(e.schedule(function(){var i=t[observable]();n.add(i.subscribe({next:function(t){n.add(e.schedule(function(){return r.next(t)}))},error:function(t){n.add(e.schedule(function(){return r.error(t)}))},complete:function(){n.add(e.schedule(function(){return r.complete()}))}}))})),n}:subscribeToObservable(t))}function from(t,e){if(!e)return t instanceof Observable?t:new Observable(subscribeTo(t));if(null!=t){if(isInteropObservable(t))return fromObservable(t,e);if(isPromise(t))return fromPromise(t,e);if(isArrayLike(t))return fromArray(t,e);if(isIterable(t)||"string"==typeof t)return fromIterable(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}function mergeMap(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?function(n){return n.pipe(mergeMap(function(r,n){return from(t(r,n)).pipe(map(function(t,i){return e(r,t,n,i)}))},r))}:("number"==typeof e&&(r=e),function(e){return e.lift(new MergeMapOperator(t,r))})}var MergeMapOperator=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new MergeMapSubscriber(t,this.project,this.concurrent))},t}(),MergeMapSubscriber=function(t){function e(e,r,n){void 0===n&&(n=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=r,i.concurrent=n,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.active++,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=new InnerSubscriber(this,void 0,void 0);this.destination.add(n),subscribeToResult(this,t,e,r,n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber);function mergeAll(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),mergeMap(identity,t)}function concatAll(){return mergeAll(1)}function concat(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length||2===t.length&&isScheduler(t[1])?from(t[0]):concatAll()(of.apply(void 0,t))}function defer(t){return new Observable(function(e){var r;try{r=t()}catch(t){return void e.error(t)}return(r?from(r):empty$1()).subscribe(e)})}function forkJoin(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&isArray(e[0])&&(e=e[0]),0===e.length?EMPTY:t?forkJoin(e).pipe(map(function(e){return t.apply(void 0,e)})):new Observable(function(t){return new ForkJoinSubscriber(t,e)})}var ForkJoinSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;n.sources=r,n.completed=0,n.haveValues=0;var i=r.length;n.values=new Array(i);for(var o=0;o<i;o++){var s=subscribeToResult(n,r[o],null,o);s&&n.add(s)}return n}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e,i._hasValue||(i._hasValue=!0,this.haveValues++)},e.prototype.notifyComplete=function(t){var e=this.destination,r=this.haveValues,n=this.values,i=n.length;t._hasValue?(this.completed++,this.completed===i&&(r===i&&e.next(n),e.complete())):e.complete()},e}(OuterSubscriber);function fromEvent(t,e,r,n){return isFunction(r)&&(n=r,r=void 0),n?fromEvent(t,e,r).pipe(map(function(t){return isArray(t)?n.apply(void 0,t):n(t)})):new Observable(function(n){setupSubscription(t,e,function(t){arguments.length>1?n.next(Array.prototype.slice.call(arguments)):n.next(t)},n,r)})}function setupSubscription(t,e,r,n,i){var o;if(isEventTarget(t)){var s=t;t.addEventListener(e,r,i),o=function(){return s.removeEventListener(e,r,i)}}else if(isJQueryStyleEventEmitter(t)){var u=t;t.on(e,r),o=function(){return u.off(e,r)}}else if(isNodeStyleEventEmitter(t)){var a=t;t.addListener(e,r),o=function(){return a.removeListener(e,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var c=0,l=t.length;c<l;c++)setupSubscription(t[c],e,r,n,i)}n.add(o)}function isNodeStyleEventEmitter(t){return t&&"function"==typeof t.addListener&&"function"==typeof t.removeListener}function isJQueryStyleEventEmitter(t){return t&&"function"==typeof t.on&&"function"==typeof t.off}function isEventTarget(t){return t&&"function"==typeof t.addEventListener&&"function"==typeof t.removeEventListener}function fromEventPattern(t,e,r){return r?fromEventPattern(t,e).pipe(map(function(t){return isArray(t)?r.apply(void 0,t):r(t)})):new Observable(function(r){var n,i=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return r.next(1===t.length?t[0]:t)};try{n=t(i)}catch(t){return void r.error(t)}if(isFunction(e))return function(){return e(i,n)}})}function generate(t,e,r,n,i){var o,s;if(1==arguments.length){var u=t;s=u.initialState,e=u.condition,r=u.iterate,o=u.resultSelector||identity,i=u.scheduler}else void 0===n||isScheduler(n)?(s=t,o=identity,i=n):(s=t,o=n);return new Observable(function(t){var n=s;if(i)return i.schedule(dispatch$3,0,{subscriber:t,iterate:r,condition:e,resultSelector:o,state:n});for(;;){if(e){var u=void 0;try{u=e(n)}catch(e){return void t.error(e)}if(!u){t.complete();break}}var a=void 0;try{a=o(n)}catch(e){return void t.error(e)}if(t.next(a),t.closed)break;try{n=r(n)}catch(e){return void t.error(e)}}})}function dispatch$3(t){var e=t.subscriber,r=t.condition;if(!e.closed){if(t.needIterate)try{t.state=t.iterate(t.state)}catch(t){return void e.error(t)}else t.needIterate=!0;if(r){var n=void 0;try{n=r(t.state)}catch(t){return void e.error(t)}if(!n)return void e.complete();if(e.closed)return}var i;try{i=t.resultSelector(t.state)}catch(t){return void e.error(t)}if(!e.closed&&(e.next(i),!e.closed))return this.schedule(t)}}function iif(t,e,r){return void 0===e&&(e=EMPTY),void 0===r&&(r=EMPTY),defer(function(){return t()?e:r})}function isNumeric(t){return!isArray(t)&&t-parseFloat(t)+1>=0}function interval(t,e){return void 0===t&&(t=0),void 0===e&&(e=async),(!isNumeric(t)||t<0)&&(t=0),e&&"function"==typeof e.schedule||(e=async),new Observable(function(r){return r.add(e.schedule(dispatch$4,t,{subscriber:r,counter:0,period:t})),r})}function dispatch$4(t){var e=t.subscriber,r=t.counter,n=t.period;e.next(r),this.schedule({subscriber:e,counter:r+1,period:n},n)}function merge(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=Number.POSITIVE_INFINITY,n=null,i=t[t.length-1];return isScheduler(i)?(n=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof i&&(r=t.pop()),null===n&&1===t.length&&t[0]instanceof Observable?t[0]:mergeAll(r)(fromArray(t,n))}var NEVER=new Observable(noop);function never(){return NEVER}function onErrorResumeNext(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(0===t.length)return EMPTY;var r=t[0],n=t.slice(1);return 1===t.length&&isArray(r)?onErrorResumeNext.apply(void 0,r):new Observable(function(t){var e=function(){return t.add(onErrorResumeNext.apply(void 0,n).subscribe(t))};return from(r).subscribe({next:function(e){t.next(e)},error:e,complete:e})})}function pairs(t,e){return new Observable(e?function(r){var n=Object.keys(t),i=new Subscription;return i.add(e.schedule(dispatch$5,0,{keys:n,index:0,subscriber:r,subscription:i,obj:t})),i}:function(e){for(var r=Object.keys(t),n=0;n<r.length&&!e.closed;n++){var i=r[n];t.hasOwnProperty(i)&&e.next([i,t[i]])}e.complete()})}function dispatch$5(t){var e=t.keys,r=t.index,n=t.subscriber,i=t.subscription,o=t.obj;if(!n.closed)if(r<e.length){var s=e[r];n.next([s,o[s]]),i.add(this.schedule({keys:e,index:r+1,subscriber:n,subscription:i,obj:o}))}else n.complete()}function race(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){if(!isArray(t[0]))return t[0];t=t[0]}return fromArray(t,void 0).lift(new RaceOperator)}var RaceOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new RaceSubscriber(t))},t}(),RaceSubscriber=function(t){function e(e){var r=t.call(this,e)||this;return r.hasFirst=!1,r.observables=[],r.subscriptions=[],r}return __extends(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var r=0;r<e&&!this.hasFirst;r++){var n=t[r],i=subscribeToResult(this,n,n,r);this.subscriptions&&this.subscriptions.push(i),this.add(i)}this.observables=null}},e.prototype.notifyNext=function(t,e,r,n,i){if(!this.hasFirst){this.hasFirst=!0;for(var o=0;o<this.subscriptions.length;o++)if(o!==r){var s=this.subscriptions[o];s.unsubscribe(),this.remove(s)}this.subscriptions=null}this.destination.next(e)},e}(OuterSubscriber);function range(t,e,r){return void 0===t&&(t=0),void 0===e&&(e=0),new Observable(function(n){var i=0,o=t;if(r)return r.schedule(dispatch$6,0,{index:i,count:e,start:t,subscriber:n});for(;;){if(i++>=e){n.complete();break}if(n.next(o++),n.closed)break}})}function dispatch$6(t){var e=t.start,r=t.index,n=t.count,i=t.subscriber;r>=n?i.complete():(i.next(e),i.closed||(t.index=r+1,t.start=e+1,this.schedule(t)))}function timer(t,e,r){void 0===t&&(t=0);var n=-1;return isNumeric(e)?n=Number(e)<1?1:Number(e):isScheduler(e)&&(r=e),isScheduler(r)||(r=async),new Observable(function(e){var i=isNumeric(t)?t:+t-r.now();return r.schedule(dispatch$7,i,{index:0,period:n,subscriber:e})})}function dispatch$7(t){var e=t.index,r=t.period,n=t.subscriber;if(n.next(e),!n.closed){if(-1===r)return n.complete();t.index=e+1,this.schedule(t,r)}}function using(t,e){return new Observable(function(r){var n,i;try{n=t()}catch(t){return void r.error(t)}try{i=e(n)}catch(t){return void r.error(t)}var o=(i?from(i):EMPTY).subscribe(r);return function(){o.unsubscribe(),n&&n.unsubscribe()}})}function zip(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[t.length-1];return"function"==typeof r&&t.pop(),fromArray(t,void 0).lift(new ZipOperator(r))}var ZipOperator=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ZipSubscriber(t,this.resultSelector))},t}(),ZipSubscriber=function(t){function e(e,r,n){void 0===n&&(n=Object.create(null));var i=t.call(this,e)||this;return i.iterators=[],i.active=0,i.resultSelector="function"==typeof r?r:null,i.values=n,i}return __extends(e,t),e.prototype._next=function(t){var e=this.iterators;isArray(t)?e.push(new StaticArrayIterator(t)):"function"==typeof t[iterator]?e.push(new StaticIterator(t[iterator]())):e.push(new ZipBufferIterator(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0!==e){this.active=e;for(var r=0;r<e;r++){var n=t[r];if(n.stillUnsubscribed)this.destination.add(n.subscribe(n,r));else this.active--}}else this.destination.complete()},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,r=this.destination,n=0;n<e;n++){if("function"==typeof(s=t[n]).hasValue&&!s.hasValue())return}var i=!1,o=[];for(n=0;n<e;n++){var s,u=(s=t[n]).next();if(s.hasCompleted()&&(i=!0),u.done)return void r.complete();o.push(u.value)}this.resultSelector?this._tryresultSelector(o):r.next(o),i&&r.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(Subscriber),StaticIterator=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return t&&t.done},t}(),StaticArrayIterator=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[iterator]=function(){return this},t.prototype.next=function(t){var e=this.index++,r=this.array;return e<this.length?{value:r[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),ZipBufferIterator=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.parent=r,i.observable=n,i.stillUnsubscribed=!0,i.buffer=[],i.isComplete=!1,i}return __extends(e,t),e.prototype[iterator]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t,e,r,n,i){this.buffer.push(e),this.parent.checkIterators()},e.prototype.subscribe=function(t,e){return subscribeToResult(this,this.observable,this,e)},e}(OuterSubscriber),_esm5=Object.freeze({Observable:Observable,ConnectableObservable:ConnectableObservable,GroupedObservable:GroupedObservable,observable:observable,Subject:Subject,BehaviorSubject:BehaviorSubject,ReplaySubject:ReplaySubject,AsyncSubject:AsyncSubject,asapScheduler:asap,asyncScheduler:async,queueScheduler:queue,animationFrameScheduler:animationFrame,VirtualTimeScheduler:VirtualTimeScheduler,VirtualAction:VirtualAction,Scheduler:Scheduler,Subscription:Subscription,Subscriber:Subscriber,Notification:Notification,pipe:pipe,noop:noop,identity:identity,isObservable:isObservable,ArgumentOutOfRangeError:ArgumentOutOfRangeError,EmptyError:EmptyError,ObjectUnsubscribedError:ObjectUnsubscribedError,UnsubscriptionError:UnsubscriptionError,TimeoutError:TimeoutError,bindCallback:bindCallback,bindNodeCallback:bindNodeCallback,combineLatest:combineLatest,concat:concat,defer:defer,empty:empty$1,forkJoin:forkJoin,from:from,fromEvent:fromEvent,fromEventPattern:fromEventPattern,generate:generate,iif:iif,interval:interval,merge:merge,never:never,of:of,onErrorResumeNext:onErrorResumeNext,pairs:pairs,race:race,range:range,throwError:throwError,timer:timer,using:using,zip:zip,EMPTY:EMPTY,NEVER:NEVER,config:config});function audit(t){return function(e){return e.lift(new AuditOperator(t))}}var AuditOperator=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new AuditSubscriber(t,this.durationSelector))},t}(),AuditSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n}return __extends(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=tryCatch(this.durationSelector)(t);if(e===errorObject)this.destination.error(errorObject.e);else{var r=subscribeToResult(this,e);!r||r.closed?this.clearThrottle():this.add(this.throttled=r)}}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,r=this.throttled;r&&(this.remove(r),this.throttled=null,r.unsubscribe()),e&&(this.value=null,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(t,e,r,n){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(OuterSubscriber);function auditTime(t,e){return void 0===e&&(e=async),audit(function(){return timer(t,e)})}function buffer(t){return function(e){return e.lift(new BufferOperator(t))}}var BufferOperator=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new BufferSubscriber(t,this.closingNotifier))},t}(),BufferSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.buffer=[],n.add(subscribeToResult(n,r)),n}return __extends(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.buffer;this.buffer=[],this.destination.next(o)},e}(OuterSubscriber);function bufferCount(t,e){return void 0===e&&(e=null),function(r){return r.lift(new BufferCountOperator(t,e))}}var BufferCountOperator=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,this.subscriberClass=e&&t!==e?BufferSkipCountSubscriber:BufferCountSubscriber}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),BufferCountSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.bufferSize=r,n.buffer=[],n}return __extends(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(Subscriber),BufferSkipCountSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.bufferSize=r,i.startBufferEvery=n,i.buffers=[],i.count=0,i}return __extends(e,t),e.prototype._next=function(t){var e=this.bufferSize,r=this.startBufferEvery,n=this.buffers,i=this.count;this.count++,i%r==0&&n.push([]);for(var o=n.length;o--;){var s=n[o];s.push(t),s.length===e&&(n.splice(o,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this.buffers,r=this.destination;e.length>0;){var n=e.shift();n.length>0&&r.next(n)}t.prototype._complete.call(this)},e}(Subscriber);function bufferTime(t){var e=arguments.length,r=async;isScheduler(arguments[arguments.length-1])&&(r=arguments[arguments.length-1],e--);var n=null;e>=2&&(n=arguments[1]);var i=Number.POSITIVE_INFINITY;return e>=3&&(i=arguments[2]),function(e){return e.lift(new BufferTimeOperator(t,n,i,r))}}var BufferTimeOperator=function(){function t(t,e,r,n){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new BufferTimeSubscriber(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),Context=function(){return function(){this.buffer=[]}}(),BufferTimeSubscriber=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;s.bufferTimeSpan=r,s.bufferCreationInterval=n,s.maxBufferSize=i,s.scheduler=o,s.contexts=[];var u=s.openContext();if(s.timespanOnly=null==n||n<0,s.timespanOnly){var a={subscriber:s,context:u,bufferTimeSpan:r};s.add(u.closeAction=o.schedule(dispatchBufferTimeSpanOnly,r,a))}else{var c={subscriber:s,context:u},l={bufferTimeSpan:r,bufferCreationInterval:n,subscriber:s,scheduler:o};s.add(u.closeAction=o.schedule(dispatchBufferClose,r,c)),s.add(o.schedule(dispatchBufferCreation,n,l))}return s}return __extends(e,t),e.prototype._next=function(t){for(var e,r=this.contexts,n=r.length,i=0;i<n;i++){var o=r[i],s=o.buffer;s.push(t),s.length==this.maxBufferSize&&(e=o)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,r=this.destination;e.length>0;){var n=e.shift();r.next(n.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var r=this.bufferTimeSpan,n={subscriber:this,context:t,bufferTimeSpan:r};this.add(t.closeAction=this.scheduler.schedule(dispatchBufferTimeSpanOnly,r,n))}},e.prototype.openContext=function(){var t=new Context;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(Subscriber);function dispatchBufferTimeSpanOnly(t){var e=t.subscriber,r=t.context;r&&e.closeContext(r),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function dispatchBufferCreation(t){var e=t.bufferCreationInterval,r=t.bufferTimeSpan,n=t.subscriber,i=t.scheduler,o=n.openContext();n.closed||(n.add(o.closeAction=i.schedule(dispatchBufferClose,r,{subscriber:n,context:o})),this.schedule(t,e))}function dispatchBufferClose(t){var e=t.subscriber,r=t.context;e.closeContext(r)}function bufferToggle(t,e){return function(r){return r.lift(new BufferToggleOperator(t,e))}}var BufferToggleOperator=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new BufferToggleSubscriber(t,this.openings,this.closingSelector))},t}(),BufferToggleSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(subscribeToResult(i,r)),i}return __extends(e,t),e.prototype._next=function(t){for(var e=this.contexts,r=e.length,n=0;n<r;n++)e[n].buffer.push(t)},e.prototype._error=function(e){for(var r=this.contexts;r.length>0;){var n=r.shift();n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var r=e.shift();this.destination.next(r.buffer),r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var r=t.buffer,n=t.subscription;this.destination.next(r),e.splice(e.indexOf(t),1),this.remove(n),n.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,r=new Subscription,n={buffer:[],subscription:r};e.push(n);var i=subscribeToResult(this,t,n);!i||i.closed?this.closeBuffer(n):(i.context=n,this.add(i),r.add(i))},e}(OuterSubscriber);function bufferWhen(t){return function(e){return e.lift(new BufferWhenOperator(t))}}var BufferWhenOperator=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new BufferWhenSubscriber(t,this.closingSelector))},t}(),BufferWhenSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.closingSelector=r,n.subscribing=!1,n.openBuffer(),n}return __extends(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=null,this.subscribing=!1},e.prototype.notifyNext=function(t,e,r,n,i){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t=this.closingSubscription;t&&(this.remove(t),t.unsubscribe());var e=this.buffer;this.buffer&&this.destination.next(e),this.buffer=[];var r=tryCatch(this.closingSelector)();r===errorObject?this.error(errorObject.e):(t=new Subscription,this.closingSubscription=t,this.add(t),this.subscribing=!0,t.add(subscribeToResult(this,r)),this.subscribing=!1)},e}(OuterSubscriber);function catchError(t){return function(e){var r=new CatchOperator(t),n=e.lift(r);return r.caught=n}}var CatchOperator=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new CatchSubscriber(t,this.selector,this.caught))},t}(),CatchSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.selector=r,i.caught=n,i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=void 0;try{r=this.selector(e,this.caught)}catch(e){return void t.prototype.error.call(this,e)}this._unsubscribeAndRecycle();var n=new InnerSubscriber(this,void 0,void 0);this.add(n),subscribeToResult(this,r,void 0,void 0,n)}},e}(OuterSubscriber);function combineAll(t){return function(e){return e.lift(new CombineLatestOperator(t))}}function combineLatest$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=null;return"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&isArray(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(from([e].concat(t)),new CombineLatestOperator(r))}}function concat$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(concat.apply(void 0,[e].concat(t)))}}function concatMap(t,e){return mergeMap(t,e,1)}function concatMapTo(t,e){return concatMap(function(){return t},e)}function count(t){return function(e){return e.lift(new CountOperator(t,e))}}var CountOperator=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new CountSubscriber(t,this.predicate,this.source))},t}(),CountSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.count=0,i.index=0,i}return __extends(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(Subscriber);function debounce(t){return function(e){return e.lift(new DebounceOperator(t))}}var DebounceOperator=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new DebounceSubscriber(t,this.durationSelector))},t}(),DebounceSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.durationSelector=r,n.hasValue=!1,n.durationSubscription=null,n}return __extends(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var r=this.durationSubscription;this.value=t,this.hasValue=!0,r&&(r.unsubscribe(),this.remove(r)),(r=subscribeToResult(this,e))&&!r.closed&&this.add(this.durationSubscription=r)},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,r=this.durationSubscription;r&&(this.durationSubscription=null,r.unsubscribe(),this.remove(r)),this.value=null,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(OuterSubscriber);function debounceTime(t,e){return void 0===e&&(e=async),function(r){return r.lift(new DebounceTimeOperator(t,e))}}var DebounceTimeOperator=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new DebounceTimeSubscriber(t,this.dueTime,this.scheduler))},t}(),DebounceTimeSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.dueTime=r,i.scheduler=n,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return __extends(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(dispatchNext$2,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(Subscriber);function dispatchNext$2(t){t.debouncedNext()}function defaultIfEmpty(t){return void 0===t&&(t=null),function(e){return e.lift(new DefaultIfEmptyOperator(t))}}var DefaultIfEmptyOperator=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new DefaultIfEmptySubscriber(t,this.defaultValue))},t}(),DefaultIfEmptySubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.defaultValue=r,n.isEmpty=!0,n}return __extends(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(Subscriber);function isDate(t){return t instanceof Date&&!isNaN(+t)}function delay(t,e){void 0===e&&(e=async);var r=isDate(t)?+t-e.now():Math.abs(t);return function(t){return t.lift(new DelayOperator(r,e))}}var DelayOperator=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new DelaySubscriber(t,this.delay,this.scheduler))},t}(),DelaySubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.delay=r,i.scheduler=n,i.queue=[],i.active=!1,i.errored=!1,i}return __extends(e,t),e.dispatch=function(t){for(var e=t.source,r=e.queue,n=t.scheduler,i=t.destination;r.length>0&&r[0].time-n.now()<=0;)r.shift().notification.observe(i);if(r.length>0){var o=Math.max(0,r[0].time-n.now());this.schedule(t,o)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,r=new DelayMessage(e.now()+this.delay,t);this.queue.push(r),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(Notification.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(Notification.createComplete()),this.unsubscribe()},e}(Subscriber),DelayMessage=function(){return function(t,e){this.time=t,this.notification=e}}();function delayWhen(t,e){return e?function(r){return new SubscriptionDelayObservable(r,e).lift(new DelayWhenOperator(t))}:function(e){return e.lift(new DelayWhenOperator(t))}}var DelayWhenOperator=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new DelayWhenSubscriber(t,this.delayDurationSelector))},t}(),DelayWhenSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.delayDurationSelector=r,n.completed=!1,n.delayNotifierSubscriptions=[],n.index=0,n}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(t),this.removeSubscription(i),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var r=this.delayDurationSelector(t,e);r&&this.tryDelay(r,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return-1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var r=subscribeToResult(this,t,e);r&&!r.closed&&(this.destination.add(r),this.delayNotifierSubscriptions.push(r))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(OuterSubscriber),SubscriptionDelayObservable=function(t){function e(e,r){var n=t.call(this)||this;return n.source=e,n.subscriptionDelay=r,n}return __extends(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new SubscriptionDelaySubscriber(t,this.source))},e}(Observable),SubscriptionDelaySubscriber=function(t){function e(e,r){var n=t.call(this)||this;return n.parent=e,n.source=r,n.sourceSubscribed=!1,n}return __extends(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(Subscriber);function dematerialize(){return function(t){return t.lift(new DeMaterializeOperator)}}var DeMaterializeOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new DeMaterializeSubscriber(t))},t}(),DeMaterializeSubscriber=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(Subscriber);function distinct(t,e){return function(r){return r.lift(new DistinctOperator(t,e))}}var DistinctOperator=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new DistinctSubscriber(t,this.keySelector,this.flushes))},t}(),DistinctSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=r,i.values=new Set,n&&i.add(subscribeToResult(i,n)),i}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values.clear()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,r=this.destination;try{e=this.keySelector(t)}catch(t){return void r.error(t)}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var r=this.values;r.has(t)||(r.add(t),this.destination.next(e))},e}(OuterSubscriber);function distinctUntilChanged(t,e){return function(r){return r.lift(new DistinctUntilChangedOperator(t,e))}}var DistinctUntilChangedOperator=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new DistinctUntilChangedSubscriber(t,this.compare,this.keySelector))},t}(),DistinctUntilChangedSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.keySelector=n,i.hasKey=!1,"function"==typeof r&&(i.compare=r),i}return __extends(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){var e=t;if(this.keySelector&&(e=tryCatch(this.keySelector)(t))===errorObject)return this.destination.error(errorObject.e);var r=!1;if(this.hasKey){if((r=tryCatch(this.compare)(this.key,e))===errorObject)return this.destination.error(errorObject.e)}else this.hasKey=!0;!1===Boolean(r)&&(this.key=e,this.destination.next(t))},e}(Subscriber);function distinctUntilKeyChanged(t,e){return distinctUntilChanged(function(r,n){return e?e(r[t],n[t]):r[t]===n[t]})}function filter(t,e){return function(r){return r.lift(new FilterOperator(t,e))}}var FilterOperator=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new FilterSubscriber(t,this.predicate,this.thisArg))},t}(),FilterSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.thisArg=n,i.count=0,i}return __extends(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){return void this.destination.error(t)}e&&this.destination.next(t)},e}(Subscriber);function tap(t,e,r){return function(n){return n.lift(new DoOperator(t,e,r))}}var DoOperator=function(){function t(t,e,r){this.nextOrObserver=t,this.error=e,this.complete=r}return t.prototype.call=function(t,e){return e.subscribe(new TapSubscriber(t,this.nextOrObserver,this.error,this.complete))},t}(),TapSubscriber=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o._tapNext=noop,o._tapError=noop,o._tapComplete=noop,o._tapError=n||noop,o._tapComplete=i||noop,isFunction(r)?(o._context=o,o._tapNext=r):r&&(o._context=r,o._tapNext=r.next||noop,o._tapError=r.error||noop,o._tapComplete=r.complete||noop),o}return __extends(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(Subscriber),throwIfEmpty=function(t){return void 0===t&&(t=defaultErrorFactory),tap({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw t()}})};function defaultErrorFactory(){return new EmptyError}function take(t){return function(e){return 0===t?empty$1():e.lift(new TakeOperator(t))}}var TakeOperator=function(){function t(t){if(this.total=t,this.total<0)throw new ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new TakeSubscriber(t,this.total))},t}(),TakeSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return __extends(e,t),e.prototype._next=function(t){var e=this.total,r=++this.count;r<=e&&(this.destination.next(t),r===e&&(this.destination.complete(),this.unsubscribe()))},e}(Subscriber);function elementAt(t,e){if(t<0)throw new ArgumentOutOfRangeError;var r=arguments.length>=2;return function(n){return n.pipe(filter(function(e,r){return r===t}),take(1),r?defaultIfEmpty(e):throwIfEmpty(function(){return new ArgumentOutOfRangeError}))}}function endWith(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r=t[t.length-1];isScheduler(r)?t.pop():r=null;var n=t.length;return concat(e,1!==n||r?n>0?fromArray(t,r):empty$1(r):scalar(t[0]))}}function every(t,e){return function(r){return r.lift(new EveryOperator(t,e,r))}}var EveryOperator=function(){function t(t,e,r){this.predicate=t,this.thisArg=e,this.source=r}return t.prototype.call=function(t,e){return e.subscribe(new EverySubscriber(t,this.predicate,this.thisArg,this.source))},t}(),EverySubscriber=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.predicate=r,o.thisArg=n,o.source=i,o.index=0,o.thisArg=n||o,o}return __extends(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){return void this.destination.error(t)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Subscriber);function exhaust(){return function(t){return t.lift(new SwitchFirstOperator)}}var SwitchFirstOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new SwitchFirstSubscriber(t))},t}(),SwitchFirstSubscriber=function(t){function e(e){var r=t.call(this,e)||this;return r.hasCompleted=!1,r.hasSubscription=!1,r}return __extends(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(subscribeToResult(this,t)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(t){this.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber);function exhaustMap(t,e){return e?function(r){return r.pipe(exhaustMap(function(r,n){return from(t(r,n)).pipe(map(function(t,i){return e(r,t,n,i)}))}))}:function(e){return e.lift(new ExhauseMapOperator(t))}}var ExhauseMapOperator=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new ExhaustMapSubscriber(t,this.project))},t}(),ExhaustMapSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.hasSubscription=!1,n.hasCompleted=!1,n.index=0,n}return __extends(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this.hasSubscription=!0,this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=new InnerSubscriber(this,void 0,void 0);this.destination.add(n),subscribeToResult(this,t,e,r,n)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.remove(t),this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(OuterSubscriber);function expand(t,e,r){return void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===r&&(r=void 0),e=(e||0)<1?Number.POSITIVE_INFINITY:e,function(n){return n.lift(new ExpandOperator(t,e,r))}}var ExpandOperator=function(){function t(t,e,r){this.project=t,this.concurrent=e,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ExpandSubscriber(t,this.project,this.concurrent,this.scheduler))},t}(),ExpandSubscriber=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.project=r,o.concurrent=n,o.scheduler=i,o.index=0,o.active=0,o.hasCompleted=!1,n<Number.POSITIVE_INFINITY&&(o.buffer=[]),o}return __extends(e,t),e.dispatch=function(t){var e=t.subscriber,r=t.result,n=t.value,i=t.index;e.subscribeToProjection(r,n,i)},e.prototype._next=function(t){var r=this.destination;if(r.closed)this._complete();else{var n=this.index++;if(this.active<this.concurrent){r.next(t);var i=tryCatch(this.project)(t,n);if(i===errorObject)r.error(errorObject.e);else if(this.scheduler){var o={subscriber:this,result:i,value:t,index:n};this.destination.add(this.scheduler.schedule(e.dispatch,0,o))}else this.subscribeToProjection(i,t,n)}else this.buffer.push(t)}},e.prototype.subscribeToProjection=function(t,e,r){this.active++,this.destination.add(subscribeToResult(this,t,e,r))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){this._next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e&&e.length>0&&this._next(e.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(OuterSubscriber);function finalize(t){return function(e){return e.lift(new FinallyOperator(t))}}var FinallyOperator=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new FinallySubscriber(t,this.callback))},t}(),FinallySubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.add(new Subscription(r)),n}return __extends(e,t),e}(Subscriber);function find(t,e){if("function"!=typeof t)throw new TypeError("predicate is not a function");return function(r){return r.lift(new FindValueOperator(t,r,!1,e))}}var FindValueOperator=function(){function t(t,e,r,n){this.predicate=t,this.source=e,this.yieldIndex=r,this.thisArg=n}return t.prototype.call=function(t,e){return e.subscribe(new FindValueSubscriber(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),FindValueSubscriber=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.predicate=r,s.source=n,s.yieldIndex=i,s.thisArg=o,s.index=0,s}return __extends(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,r=this.thisArg,n=this.index++;try{e.call(r||this,t,n,this.source)&&this.notifyComplete(this.yieldIndex?n:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(Subscriber);function findIndex(t,e){return function(r){return r.lift(new FindValueOperator(t,r,!0,e))}}function first(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?filter(function(e,r){return t(e,r,n)}):identity,take(1),r?defaultIfEmpty(e):throwIfEmpty(function(){return new EmptyError}))}}function ignoreElements(){return function(t){return t.lift(new IgnoreElementsOperator)}}var IgnoreElementsOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new IgnoreElementsSubscriber(t))},t}(),IgnoreElementsSubscriber=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype._next=function(t){},e}(Subscriber);function isEmpty(){return function(t){return t.lift(new IsEmptyOperator)}}var IsEmptyOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new IsEmptySubscriber(t))},t}(),IsEmptySubscriber=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(Subscriber);function takeLast(t){return function(e){return 0===t?empty$1():e.lift(new TakeLastOperator(t))}}var TakeLastOperator=function(){function t(t){if(this.total=t,this.total<0)throw new ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return e.subscribe(new TakeLastSubscriber(t,this.total))},t}(),TakeLastSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.ring=new Array,n.count=0,n}return __extends(e,t),e.prototype._next=function(t){var e=this.ring,r=this.total,n=this.count++;e.length<r?e.push(t):e[n%r]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var r=this.count>=this.total?this.total:this.count,n=this.ring,i=0;i<r;i++){var o=e++%r;t.next(n[o])}t.complete()},e}(Subscriber);function last(t,e){var r=arguments.length>=2;return function(n){return n.pipe(t?filter(function(e,r){return t(e,r,n)}):identity,takeLast(1),r?defaultIfEmpty(e):throwIfEmpty(function(){return new EmptyError}))}}function mapTo(t){return function(e){return e.lift(new MapToOperator(t))}}var MapToOperator=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new MapToSubscriber(t,this.value))},t}(),MapToSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.value=r,n}return __extends(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(Subscriber);function materialize(){return function(t){return t.lift(new MaterializeOperator)}}var MaterializeOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new MaterializeSubscriber(t))},t}(),MaterializeSubscriber=function(t){function e(e){return t.call(this,e)||this}return __extends(e,t),e.prototype._next=function(t){this.destination.next(Notification.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(Notification.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(Notification.createComplete()),t.complete()},e}(Subscriber);function scan(t,e){var r=!1;return arguments.length>=2&&(r=!0),function(n){return n.lift(new ScanOperator(t,e,r))}}var ScanOperator=function(){function t(t,e,r){void 0===r&&(r=!1),this.accumulator=t,this.seed=e,this.hasSeed=r}return t.prototype.call=function(t,e){return e.subscribe(new ScanSubscriber(t,this.accumulator,this.seed,this.hasSeed))},t}(),ScanSubscriber=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o._seed=n,o.hasSeed=i,o.index=0,o}return __extends(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,r=this.index++;try{e=this.accumulator(this.seed,t,r)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(Subscriber);function reduce(t,e){return arguments.length>=2?function(r){return pipe(scan(t,e),takeLast(1),defaultIfEmpty(e))(r)}:function(e){return pipe(scan(function(e,r,n){return t(e,r,n+1)}),takeLast(1))(e)}}function max(t){return reduce("function"==typeof t?function(e,r){return t(e,r)>0?e:r}:function(t,e){return t>e?t:e})}function merge$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(merge.apply(void 0,[e].concat(t)))}}function mergeMapTo(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),"function"==typeof e?mergeMap(function(){return t},e,r):("number"==typeof e&&(r=e),mergeMap(function(){return t},r))}function mergeScan(t,e,r){return void 0===r&&(r=Number.POSITIVE_INFINITY),function(n){return n.lift(new MergeScanOperator(t,e,r))}}var MergeScanOperator=function(){function t(t,e,r){this.accumulator=t,this.seed=e,this.concurrent=r}return t.prototype.call=function(t,e){return e.subscribe(new MergeScanSubscriber(t,this.accumulator,this.seed,this.concurrent))},t}(),MergeScanSubscriber=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.accumulator=r,o.acc=n,o.concurrent=i,o.hasValue=!1,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return __extends(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,r=tryCatch(this.accumulator)(this.acc,t),n=this.destination;r===errorObject?n.error(errorObject.e):(this.active++,this._innerSub(r,t,e))}else this.buffer.push(t)},e.prototype._innerSub=function(t,e,r){var n=new InnerSubscriber(this,void 0,void 0);this.destination.add(n),subscribeToResult(this,t,e,r,n)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t,e,r,n,i){var o=this.destination;this.acc=e,this.hasValue=!0,o.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.destination.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(OuterSubscriber);function min(t){return reduce("function"==typeof t?function(e,r){return t(e,r)<0?e:r}:function(t,e){return t<e?t:e})}function multicast(t,e){return function(r){var n;if(n="function"==typeof t?t:function(){return t},"function"==typeof e)return r.lift(new MulticastOperator(n,e));var i=Object.create(r,connectableObservableDescriptor);return i.source=r,i.subjectFactory=n,i}}var MulticastOperator=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var r=this.selector,n=this.subjectFactory(),i=r(n).subscribe(t);return i.add(e.subscribe(n)),i},t}();function onErrorResumeNext$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&isArray(t[0])&&(t=t[0]),function(e){return e.lift(new OnErrorResumeNextOperator(t))}}var OnErrorResumeNextOperator=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new OnErrorResumeNextSubscriber(t,this.nextSources))},t}(),OnErrorResumeNextSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.nextSources=r,n}return __extends(e,t),e.prototype.notifyError=function(t,e){this.subscribeToNextSource()},e.prototype.notifyComplete=function(t){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new InnerSubscriber(this,void 0,void 0);this.destination.add(e),subscribeToResult(this,t,void 0,void 0,e)}else this.destination.complete()},e}(OuterSubscriber);function pairwise(){return function(t){return t.lift(new PairwiseOperator)}}var PairwiseOperator=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new PairwiseSubscriber(t))},t}(),PairwiseSubscriber=function(t){function e(e){var r=t.call(this,e)||this;return r.hasPrev=!1,r}return __extends(e,t),e.prototype._next=function(t){this.hasPrev?this.destination.next([this.prev,t]):this.hasPrev=!0,this.prev=t},e}(Subscriber);function not(t,e){function r(){return!r.pred.apply(r.thisArg,arguments)}return r.pred=t,r.thisArg=e,r}function partition(t,e){return function(r){return[filter(t,e)(r),filter(not(t,e))(r)]}}function pluck(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t.length;if(0===r)throw new Error("list of properties cannot be empty.");return function(e){return map(plucker(t,r))(e)}}function plucker(t,e){return function(r){for(var n=r,i=0;i<e;i++){var o=n[t[i]];if(void 0===o)return;n=o}return n}}function publish(t){return t?multicast(function(){return new Subject},t):multicast(new Subject)}function publishBehavior(t){return function(e){return multicast(new BehaviorSubject(t))(e)}}function publishLast(){return function(t){return multicast(new AsyncSubject)(t)}}function publishReplay(t,e,r,n){r&&"function"!=typeof r&&(n=r);var i="function"==typeof r?r:void 0,o=new ReplaySubject(t,e,n);return function(t){return multicast(function(){return o},i)(t)}}function race$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&isArray(t[0])&&(t=t[0]),e.lift.call(race.apply(void 0,[e].concat(t)))}}function repeat(t){return void 0===t&&(t=-1),function(e){return 0===t?empty$1():t<0?e.lift(new RepeatOperator(-1,e)):e.lift(new RepeatOperator(t-1,e))}}var RepeatOperator=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new RepeatSubscriber(t,this.count,this.source))},t}(),RepeatSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return __extends(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,r=this.count;if(0===r)return t.prototype.complete.call(this);r>-1&&(this.count=r-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(Subscriber);function repeatWhen(t){return function(e){return e.lift(new RepeatWhenOperator(t))}}var RepeatWhenOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new RepeatWhenSubscriber(t,this.notifier,e))},t}(),RepeatWhenSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i.sourceIsBeingSubscribedTo=!0,i}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(e){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next()}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){this.notifications=new Subject;var e=tryCatch(this.notifier)(this.notifications);if(e===errorObject)return t.prototype.complete.call(this);this.retries=e,this.retriesSubscription=subscribeToResult(this,e)},e}(OuterSubscriber);function retry(t){return void 0===t&&(t=-1),function(e){return e.lift(new RetryOperator(t,e))}}var RetryOperator=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new RetrySubscriber(t,this.count,this.source))},t}(),RetrySubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.count=r,i.source=n,i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.source,n=this.count;if(0===n)return t.prototype.error.call(this,e);n>-1&&(this.count=n-1),r.subscribe(this._unsubscribeAndRecycle())}},e}(Subscriber);function retryWhen(t){return function(e){return e.lift(new RetryWhenOperator(t,e))}}var RetryWhenOperator=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new RetryWhenSubscriber(t,this.notifier,this.source))},t}(),RetryWhenSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.notifier=r,i.source=n,i}return __extends(e,t),e.prototype.error=function(e){if(!this.isStopped){var r=this.errors,n=this.retries,i=this.retriesSubscription;if(n)this.errors=null,this.retriesSubscription=null;else{if(r=new Subject,(n=tryCatch(this.notifier)(r))===errorObject)return t.prototype.error.call(this,errorObject.e);i=subscribeToResult(this,n)}this._unsubscribeAndRecycle(),this.errors=r,this.retries=n,this.retriesSubscription=i,r.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=null),e&&(e.unsubscribe(),this.retriesSubscription=null),this.retries=null},e.prototype.notifyNext=function(t,e,r,n,i){var o=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=o,this.source.subscribe(this)},e}(OuterSubscriber);function sample(t){return function(e){return e.lift(new SampleOperator(t))}}var SampleOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new SampleSubscriber(t),n=e.subscribe(r);return n.add(subscribeToResult(r,this.notifier)),n},t}(),SampleSubscriber=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return __extends(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(t,e,r,n,i){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(OuterSubscriber);function sampleTime(t,e){return void 0===e&&(e=async),function(r){return r.lift(new SampleTimeOperator(t,e))}}var SampleTimeOperator=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new SampleTimeSubscriber(t,this.period,this.scheduler))},t}(),SampleTimeSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.period=r,i.scheduler=n,i.hasValue=!1,i.add(n.schedule(dispatchNotification,r,{subscriber:i,period:r})),i}return __extends(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(Subscriber);function dispatchNotification(t){var e=t.subscriber,r=t.period;e.notifyNext(),this.schedule(t,r)}function sequenceEqual(t,e){return function(r){return r.lift(new SequenceEqualOperator(t,e))}}var SequenceEqualOperator=function(){function t(t,e){this.compareTo=t,this.comparor=e}return t.prototype.call=function(t,e){return e.subscribe(new SequenceEqualSubscriber(t,this.compareTo,this.comparor))},t}(),SequenceEqualSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.compareTo=r,i.comparor=n,i._a=[],i._b=[],i._oneComplete=!1,i.destination.add(r.subscribe(new SequenceEqualCompareToSubscriber(e,i))),i}return __extends(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,r=this.comparor;t.length>0&&e.length>0;){var n=t.shift(),i=e.shift(),o=!1;r?(o=tryCatch(r)(n,i))===errorObject&&this.destination.error(errorObject.e):o=n===i,o||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(Subscriber),SequenceEqualCompareToSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.parent=r,n}return __extends(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(Subscriber);function shareSubjectFactory(){return new Subject}function share(){return function(t){return refCount()(multicast(shareSubjectFactory)(t))}}function shareReplay(t,e,r){return void 0===t&&(t=Number.POSITIVE_INFINITY),void 0===e&&(e=Number.POSITIVE_INFINITY),function(n){return n.lift(shareReplayOperator(t,e,r))}}function shareReplayOperator(t,e,r){var n,i,o=0,s=!1,u=!1;return function(a){o++,n&&!s||(s=!1,n=new ReplaySubject(t,e,r),i=a.subscribe({next:function(t){n.next(t)},error:function(t){s=!0,n.error(t)},complete:function(){u=!0,n.complete()}}));var c=n.subscribe(this);return function(){o--,c.unsubscribe(),i&&0===o&&u&&i.unsubscribe()}}}function single(t){return function(e){return e.lift(new SingleOperator(t,e))}}var SingleOperator=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new SingleSubscriber(t,this.predicate,this.source))},t}(),SingleSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.predicate=r,i.source=n,i.seenValue=!1,i.index=0,i}return __extends(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new EmptyError)},e}(Subscriber);function skip(t){return function(e){return e.lift(new SkipOperator(t))}}var SkipOperator=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new SkipSubscriber(t,this.total))},t}(),SkipSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.total=r,n.count=0,n}return __extends(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(Subscriber);function skipLast(t){return function(e){return e.lift(new SkipLastOperator(t))}}var SkipLastOperator=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new ArgumentOutOfRangeError}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new Subscriber(t)):e.subscribe(new SkipLastSubscriber(t,this._skipCount))},t}(),SkipLastSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n._skipCount=r,n._count=0,n._ring=new Array(r),n}return __extends(e,t),e.prototype._next=function(t){var e=this._skipCount,r=this._count++;if(r<e)this._ring[r]=t;else{var n=r%e,i=this._ring,o=i[n];i[n]=t,this.destination.next(o)}},e}(Subscriber);function skipUntil(t){return function(e){return e.lift(new SkipUntilOperator(t))}}var SkipUntilOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new SkipUntilSubscriber(t,this.notifier))},t}(),SkipUntilSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;n.hasValue=!1;var i=new InnerSubscriber(n,void 0,void 0);return n.add(i),n.innerSubscription=i,subscribeToResult(n,r,void 0,void 0,i),n}return __extends(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(t,e,r,n,i){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(OuterSubscriber);function skipWhile(t){return function(e){return e.lift(new SkipWhileOperator(t))}}var SkipWhileOperator=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new SkipWhileSubscriber(t,this.predicate))},t}(),SkipWhileSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.predicate=r,n.skipping=!0,n.index=0,n}return __extends(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=Boolean(e)}catch(t){this.destination.error(t)}},e}(Subscriber);function startWith(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r=t[t.length-1];isScheduler(r)?t.pop():r=null;var n=t.length;return concat(1!==n||r?n>0?fromArray(t,r):empty$1(r):scalar(t[0]),e)}}var SubscribeOnObservable=function(t){function e(e,r,n){void 0===r&&(r=0),void 0===n&&(n=asap);var i=t.call(this)||this;return i.source=e,i.delayTime=r,i.scheduler=n,(!isNumeric(r)||r<0)&&(i.delayTime=0),n&&"function"==typeof n.schedule||(i.scheduler=asap),i}return __extends(e,t),e.create=function(t,r,n){return void 0===r&&(r=0),void 0===n&&(n=asap),new e(t,r,n)},e.dispatch=function(t){var e=t.source,r=t.subscriber;return this.add(e.subscribe(r))},e.prototype._subscribe=function(t){var r=this.delayTime,n=this.source;return this.scheduler.schedule(e.dispatch,r,{source:n,subscriber:t})},e}(Observable);function subscribeOn(t,e){return void 0===e&&(e=0),function(r){return r.lift(new SubscribeOnOperator(t,e))}}var SubscribeOnOperator=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new SubscribeOnObservable(e,this.delay,this.scheduler).subscribe(t)},t}();function switchMap(t,e){return"function"==typeof e?function(r){return r.pipe(switchMap(function(r,n){return from(t(r,n)).pipe(map(function(t,i){return e(r,t,n,i)}))}))}:function(e){return e.lift(new SwitchMapOperator(t))}}var SwitchMapOperator=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new SwitchMapSubscriber(t,this.project))},t}(),SwitchMapSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.project=r,n.index=0,n}return __extends(e,t),e.prototype._next=function(t){var e,r=this.index++;try{e=this.project(t,r)}catch(t){return void this.destination.error(t)}this._innerSub(e,t,r)},e.prototype._innerSub=function(t,e,r){var n=this.innerSubscription;n&&n.unsubscribe();var i=new InnerSubscriber(this,void 0,void 0);this.destination.add(i),this.innerSubscription=subscribeToResult(this,t,e,r,i)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,r,n,i){this.destination.next(e)},e}(OuterSubscriber);function switchAll(){return switchMap(identity)}function switchMapTo(t,e){return e?switchMap(function(){return t},e):switchMap(function(){return t})}function takeUntil(t){return function(e){return e.lift(new TakeUntilOperator(t))}}var TakeUntilOperator=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var r=new TakeUntilSubscriber(t),n=subscribeToResult(r,this.notifier);return n&&!r.seenValue?(r.add(n),e.subscribe(r)):r},t}(),TakeUntilSubscriber=function(t){function e(e){var r=t.call(this,e)||this;return r.seenValue=!1,r}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(OuterSubscriber);function takeWhile(t){return function(e){return e.lift(new TakeWhileOperator(t))}}var TakeWhileOperator=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new TakeWhileSubscriber(t,this.predicate))},t}(),TakeWhileSubscriber=function(t){function e(e,r){var n=t.call(this,e)||this;return n.predicate=r,n.index=0,n}return __extends(e,t),e.prototype._next=function(t){var e,r=this.destination;try{e=this.predicate(t,this.index++)}catch(t){return void r.error(t)}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var r=this.destination;Boolean(e)?r.next(t):r.complete()},e}(Subscriber),defaultThrottleConfig={leading:!0,trailing:!1};function throttle(t,e){return void 0===e&&(e=defaultThrottleConfig),function(r){return r.lift(new ThrottleOperator(t,e.leading,e.trailing))}}var ThrottleOperator=function(){function t(t,e,r){this.durationSelector=t,this.leading=e,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new ThrottleSubscriber(t,this.durationSelector,this.leading,this.trailing))},t}(),ThrottleSubscriber=function(t){function e(e,r,n,i){var o=t.call(this,e)||this;return o.destination=e,o.durationSelector=r,o._leading=n,o._trailing=i,o._hasValue=!1,o}return __extends(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=null},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=subscribeToResult(this,e))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=null,e&&this.send()},e.prototype.notifyNext=function(t,e,r,n,i){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(OuterSubscriber);function throttleTime(t,e,r){return void 0===e&&(e=async),void 0===r&&(r=defaultThrottleConfig),function(n){return n.lift(new ThrottleTimeOperator(t,e,r.leading,r.trailing))}}var ThrottleTimeOperator=function(){function t(t,e,r,n){this.duration=t,this.scheduler=e,this.leading=r,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new ThrottleTimeSubscriber(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),ThrottleTimeSubscriber=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.duration=r,s.scheduler=n,s.leading=i,s.trailing=o,s._hasTrailingValue=!1,s._trailingValue=null,s}return __extends(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(dispatchNext$3,this.duration,{subscriber:this})),this.leading&&this.destination.next(t))},e.prototype._complete=function(){this._hasTrailingValue?(this.destination.next(this._trailingValue),this.destination.complete()):this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(Subscriber);function dispatchNext$3(t){t.subscriber.clearThrottle()}function timeInterval(t){return void 0===t&&(t=async),function(e){return defer(function(){return e.pipe(scan(function(e,r){var n=e.current;return{value:r,current:t.now(),last:n}},{current:t.now(),value:void 0,last:void 0}),map(function(t){var e=t.current,r=t.last,n=t.value;return new TimeInterval(n,e-r)}))})}}var TimeInterval=function(){return function(t,e){this.value=t,this.interval=e}}();function timeoutWith(t,e,r){return void 0===r&&(r=async),function(n){var i=isDate(t),o=i?+t-r.now():Math.abs(t);return n.lift(new TimeoutWithOperator(o,i,e,r))}}var TimeoutWithOperator=function(){function t(t,e,r,n){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new TimeoutWithSubscriber(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),TimeoutWithSubscriber=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;return s.absoluteTimeout=r,s.waitFor=n,s.withObservable=i,s.scheduler=o,s.action=null,s.scheduleTimeout(),s}return __extends(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(subscribeToResult(t,e))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=null,this.scheduler=null,this.withObservable=null},e}(OuterSubscriber);function timeout(t,e){return void 0===e&&(e=async),timeoutWith(t,throwError(new TimeoutError),e)}function timestamp(t){return void 0===t&&(t=async),map(function(e){return new Timestamp(e,t.now())})}var Timestamp=function(){return function(t,e){this.value=t,this.timestamp=e}}();function toArrayReducer(t,e,r){return 0===r?[e]:(t.push(e),t)}function toArray(){return reduce(toArrayReducer,[])}function window$1(t){return function(e){return e.lift(new WindowOperator(t))}}var WindowOperator=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var r=new WindowSubscriber(t),n=e.subscribe(r);return n.closed||r.add(subscribeToResult(r,this.windowBoundaries)),n},t}(),WindowSubscriber=function(t){function e(e){var r=t.call(this,e)||this;return r.window=new Subject,e.next(r.window),r}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,r=this.window=new Subject;e.next(r)},e}(OuterSubscriber);function windowCount(t,e){return void 0===e&&(e=0),function(r){return r.lift(new WindowCountOperator(t,e))}}var WindowCountOperator=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new WindowCountSubscriber(t,this.windowSize,this.startWindowEvery))},t}(),WindowCountSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.destination=e,i.windowSize=r,i.startWindowEvery=n,i.windows=[new Subject],i.count=0,e.next(i.windows[0]),i}return __extends(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,r=this.destination,n=this.windowSize,i=this.windows,o=i.length,s=0;s<o&&!this.closed;s++)i[s].next(t);var u=this.count-n+1;if(u>=0&&u%e==0&&!this.closed&&i.shift().complete(),++this.count%e==0&&!this.closed){var a=new Subject;i.push(a),r.next(a)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(Subscriber);function windowTime(t){var e=async,r=null,n=Number.POSITIVE_INFINITY;return isScheduler(arguments[3])&&(e=arguments[3]),isScheduler(arguments[2])?e=arguments[2]:isNumeric(arguments[2])&&(n=arguments[2]),isScheduler(arguments[1])?e=arguments[1]:isNumeric(arguments[1])&&(r=arguments[1]),function(i){return i.lift(new WindowTimeOperator(t,r,n,e))}}var WindowTimeOperator=function(){function t(t,e,r,n){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=r,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new WindowTimeSubscriber(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),CountedSubject=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return __extends(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(Subject),WindowTimeSubscriber=function(t){function e(e,r,n,i,o){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=r,s.windowCreationInterval=n,s.maxWindowSize=i,s.scheduler=o,s.windows=[];var u=s.openWindow();if(null!==n&&n>=0){var a={subscriber:s,window:u,context:null},c={windowTimeSpan:r,windowCreationInterval:n,subscriber:s,scheduler:o};s.add(o.schedule(dispatchWindowClose,r,a)),s.add(o.schedule(dispatchWindowCreation,n,c))}else{var l={subscriber:s,window:u,windowTimeSpan:r};s.add(o.schedule(dispatchWindowTimeSpanOnly,r,l))}return s}return __extends(e,t),e.prototype._next=function(t){for(var e=this.windows,r=e.length,n=0;n<r;n++){var i=e[n];i.closed||(i.next(t),i.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(i))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new CountedSubject;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(Subscriber);function dispatchWindowTimeSpanOnly(t){var e=t.subscriber,r=t.windowTimeSpan,n=t.window;n&&e.closeWindow(n),t.window=e.openWindow(),this.schedule(t,r)}function dispatchWindowCreation(t){var e=t.windowTimeSpan,r=t.subscriber,n=t.scheduler,i=t.windowCreationInterval,o={action:this,subscription:null},s={subscriber:r,window:r.openWindow(),context:o};o.subscription=n.schedule(dispatchWindowClose,e,s),this.add(o.subscription),this.schedule(t,i)}function dispatchWindowClose(t){var e=t.subscriber,r=t.window,n=t.context;n&&n.action&&n.subscription&&n.action.remove(n.subscription),e.closeWindow(r)}function windowToggle(t,e){return function(r){return r.lift(new WindowToggleOperator(t,e))}}var WindowToggleOperator=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new WindowToggleSubscriber(t,this.openings,this.closingSelector))},t}(),WindowToggleSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;return i.openings=r,i.closingSelector=n,i.contexts=[],i.add(i.openSubscription=subscribeToResult(i,r,r)),i}return __extends(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var r=e.length,n=0;n<r;n++)e[n].window.next(t)},e.prototype._error=function(e){var r=this.contexts;if(this.contexts=null,r)for(var n=r.length,i=-1;++i<n;){var o=r[i];o.window.error(e),o.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var r=e.length,n=-1;++n<r;){var i=e[n];i.window.complete(),i.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,r=-1;++r<e;){var n=t[r];n.window.unsubscribe(),n.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,r,n,i){if(t===this.openings){var o=tryCatch(this.closingSelector)(e);if(o===errorObject)return this.error(errorObject.e);var s=new Subject,u=new Subscription,a={window:s,subscription:u};this.contexts.push(a);var c=subscribeToResult(this,o,a);c.closed?this.closeWindow(this.contexts.length-1):(c.context=a,u.add(c)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,r=e[t],n=r.window,i=r.subscription;e.splice(t,1),n.complete(),i.unsubscribe()}},e}(OuterSubscriber);function windowWhen(t){return function(e){return e.lift(new WindowOperator$1(t))}}var WindowOperator$1=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new WindowSubscriber$1(t,this.closingSelector))},t}(),WindowSubscriber$1=function(t){function e(e,r){var n=t.call(this,e)||this;return n.destination=e,n.closingSelector=r,n.openWindow(),n}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.openWindow(i)},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e=this.window;e&&e.complete();var r=this.window=new Subject;this.destination.next(r);var n=tryCatch(this.closingSelector)();if(n===errorObject){var i=errorObject.e;this.destination.error(i),this.window.error(i)}else this.add(this.closingNotification=subscribeToResult(this,n))},e}(OuterSubscriber);function withLatestFrom(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var r;"function"==typeof t[t.length-1]&&(r=t.pop());var n=t;return e.lift(new WithLatestFromOperator(n,r))}}var WithLatestFromOperator=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new WithLatestFromSubscriber(t,this.observables,this.project))},t}(),WithLatestFromSubscriber=function(t){function e(e,r,n){var i=t.call(this,e)||this;i.observables=r,i.project=n,i.toRespond=[];var o=r.length;i.values=new Array(o);for(var s=0;s<o;s++)i.toRespond.push(s);for(s=0;s<o;s++){var u=r[s];i.add(subscribeToResult(i,u,u,s))}return i}return __extends(e,t),e.prototype.notifyNext=function(t,e,r,n,i){this.values[r]=e;var o=this.toRespond;if(o.length>0){var s=o.indexOf(r);-1!==s&&o.splice(s,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){return void this.destination.error(t)}this.destination.next(e)},e}(OuterSubscriber);function zip$1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(zip.apply(void 0,[e].concat(t)))}}function zipAll(t){return function(e){return e.lift(new ZipOperator(t))}}var operators_1=Object.freeze({audit:audit,auditTime:auditTime,buffer:buffer,bufferCount:bufferCount,bufferTime:bufferTime,bufferToggle:bufferToggle,bufferWhen:bufferWhen,catchError:catchError,combineAll:combineAll,combineLatest:combineLatest$1,concat:concat$1,concatAll:concatAll,concatMap:concatMap,concatMapTo:concatMapTo,count:count,debounce:debounce,debounceTime:debounceTime,defaultIfEmpty:defaultIfEmpty,delay:delay,delayWhen:delayWhen,dematerialize:dematerialize,distinct:distinct,distinctUntilChanged:distinctUntilChanged,distinctUntilKeyChanged:distinctUntilKeyChanged,elementAt:elementAt,endWith:endWith,every:every,exhaust:exhaust,exhaustMap:exhaustMap,expand:expand,filter:filter,finalize:finalize,find:find,findIndex:findIndex,first:first,groupBy:groupBy,ignoreElements:ignoreElements,isEmpty:isEmpty,last:last,map:map,mapTo:mapTo,materialize:materialize,max:max,merge:merge$1,mergeAll:mergeAll,mergeMap:mergeMap,flatMap:mergeMap,mergeMapTo:mergeMapTo,mergeScan:mergeScan,min:min,multicast:multicast,observeOn:observeOn,onErrorResumeNext:onErrorResumeNext$1,pairwise:pairwise,partition:partition,pluck:pluck,publish:publish,publishBehavior:publishBehavior,publishLast:publishLast,publishReplay:publishReplay,race:race$1,reduce:reduce,repeat:repeat,repeatWhen:repeatWhen,retry:retry,retryWhen:retryWhen,refCount:refCount,sample:sample,sampleTime:sampleTime,scan:scan,sequenceEqual:sequenceEqual,share:share,shareReplay:shareReplay,single:single,skip:skip,skipLast:skipLast,skipUntil:skipUntil,skipWhile:skipWhile,startWith:startWith,subscribeOn:subscribeOn,switchAll:switchAll,switchMap:switchMap,switchMapTo:switchMapTo,take:take,takeLast:takeLast,takeUntil:takeUntil,takeWhile:takeWhile,tap:tap,throttle:throttle,throttleTime:throttleTime,throwIfEmpty:throwIfEmpty,timeInterval:timeInterval,timeout:timeout,timeoutWith:timeoutWith,timestamp:timestamp,toArray:toArray,window:window$1,windowCount:windowCount,windowTime:windowTime,windowToggle:windowToggle,windowWhen:windowWhen,withLatestFrom:withLatestFrom,zip:zip$1,zipAll:zipAll}),commonjsGlobal="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function unwrapExports(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function createCommonjsModule(t,e){return t(e={exports:{}},e.exports),e.exports}var map_1=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.map=function(t,e){return operators_1.map(t,e)(this)}});unwrapExports(map_1);var map_2=map_1.map,map$3=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),_esm5.Observable.prototype.map=map_1.map});unwrapExports(map$3);var map$1=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0})});unwrapExports(map$1);var take_1=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.take=function(t){return operators_1.take(t)(this)}});unwrapExports(take_1);var take_2=take_1.take,take$3=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),_esm5.Observable.prototype.take=take_1.take});unwrapExports(take$3);var take$1=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0})});unwrapExports(take$1);var filter_1=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.filter=function(t,e){return operators_1.filter(t,e)(this)}});unwrapExports(filter_1);var filter_2=filter_1.filter,filter$3=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),_esm5.Observable.prototype.filter=filter_1.filter});unwrapExports(filter$3);var filter$1=createCommonjsModule(function(t,e){Object.defineProperty(e,"__esModule",{value:!0})});unwrapExports(filter$1);var debugLSKey="DEBUG_LABELBOX",isDebugModeEnabled=function(){return Boolean(localStorage.getItem(debugLSKey))},debugLog=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];isDebugModeEnabled()&&console.log.apply(console,t)},preloader,registerPreloader=function(t){if(preloader)throw new Error("Error: A preloading function has been registered already, and only one can be registered at a time.");return preloader=t,!0},getPreloader=function(){return preloader},Environments;function getQueryParam(t,e){return new URL(t).searchParams.get(e)||void 0}function removeQueryParam(t,e){var r=new URL(t);return r.searchParams.delete(e),r.toString()}function setQueryParam(t,e,r){if(void 0===r)return removeQueryParam(t,e);var n=new URL(t);return n.searchParams.set(e,r),n.toString()}function getToken(){var t=window.location.href,e=getQueryParam(t,"token");return e&&(window.localStorage.setItem("labelbox-jwt",e),window.history.replaceState({},document.title,removeQueryParam(t,"token"))),window.localStorage&&window.localStorage.getItem("labelbox-jwt")}function removeToken(){window.localStorage.removeItem("labelbox-jwt")}function getEnvironment(){return getQueryParam(window.location.href,"local")?Environments.DEV:Environments.PROD}!function(t){t.PROD="prod",t.DEV="dev"}(Environments||(Environments={})),window.env=window.env||{};var getEnvVar=function(t){if(window.env&&t in window.env)return window.env[t]},serverUrl={dev:"http://localhost:8080/graphql",prod:getEnvVar("API_URL")||"https://api.labelbox.com/graphql"}[getEnvironment()],labelboxDomain={dev:"http://localhost:3000",prod:getEnvVar("APP_URL")||"https://app.labelbox.com"}[getEnvironment()],sendQuery=function(t){var e=t.query,r=t.variables,n=getToken();return window.fetch(serverUrl,{method:"POST",body:JSON.stringify({query:e,variables:r||{}}),headers:{"Content-Type":"application/json",authorization:n?"Bearer "+n:""}}).then(function(t){return t.ok?t.json():t.text()})},templateCustomizationQuery="query GetTemplateCustomization($projectId: ID!){\n  project(where:{id: $projectId}) {\n    id\n    labelingFrontend {\n      id\n      defaultCustomizationOptions\n      labelingFrontendOptions(where:{project:{id:$projectId}}) {\n        id\n        customizationOptions\n      }\n    }\n  }\n}\n";function generateTemplateCustomizationFunction(t){var e=t.projectId,r=e?sendQuery({query:templateCustomizationQuery,variables:{projectId:e}}).then(function(t){var e=t&&t.data&&t.data.project&&t.data.project.labelingFrontend,r=e&&e.labelingFrontendOptions&&e.labelingFrontendOptions[0]&&e.labelingFrontendOptions[0].customizationOptions||e&&e.defaultCustomizationOptions;return r&&JSON.parse(r)}):Promise.resolve({tools:[],classifications:[]}),n=[];return window.addEventListener("message",function(t){var e=t.data;e&&e.customizationUpdate&&n.forEach(function(t){return t(JSON.parse(e.customizationUpdate))})}),function(){return{subscribe:function(t){return n.push(t),r.then(function(e){e&&t(e)}),{unsubscribe:function(){var e=n.indexOf(t);n=n.slice(0,e).concat(n.slice(e+1))}}}}}}var build_umd=createCommonjsModule(function(module,exports){var factory;factory=function(){return function(t){var e={};function r(n){if(e[n])return e[n].exports;var i=e[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}return r.m=t,r.c=e,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)r.d(n,i,function(e){return t[e]}.bind(null,i));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=8)}([function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){if(null==t)return{};var r={};return Object.keys(t).forEach(function(n){r[n]=e(t[n])}),r}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.setActive=function(t){s=t},e.default=function(t){var e=t.addRequest,r=t.addResponse,o=XMLHttpRequest,a=new WeakMap,c=!1;return window._lrXMLHttpRequest=XMLHttpRequest,XMLHttpRequest=function(t,l){var f=new o(t,l);if(!s)return f;a.set(f,{xhrId:++u,headers:{}}),(0,i.default)(f,"open",function(t,e){if(!c){var r=a.get(f);r.method=t,r.url=e}}),(0,i.default)(f,"send",function(t){if(!c){var r=a.get(f),i={url:r.url,method:r.method.toUpperCase(),headers:(0,n.default)(r.headers,function(t){return t.join(", ")}),body:t};e("xhr-"+r.xhrId,i)}}),(0,i.default)(f,"setRequestHeader",function(t,e){if(!c){var r=a.get(f);r.headers[t]=r.headers[t]||[],r.headers[t].push(e)}});var p={readystatechange:function(){if(!c&&4===f.readyState){var t=a.get(f),e=f.getAllResponseHeaders().split(/[\r\n]+/).reduce(function(t,e){var r=t,n=e.split(": ");if(n.length>0){var i=n.shift(),o=n.join(": ");t[i]?r[i]+=", "+o:r[i]=o}return r},{}),n=void 0;try{switch(f.responseType){case"json":case"arraybuffer":case"blob":n=f.response;break;case"document":n=f.responseXML;break;case"text":case"":n=f.responseText;break;default:n=""}}catch(t){n="LogRocket: Error accessing response."}var i={url:t.url,status:f.status,headers:e,body:n,method:t.method.toUpperCase()};r("xhr-"+t.xhrId,i)}}};return Object.keys(p).forEach(function(t){f.addEventListener(t,p[t])}),f},XMLHttpRequest.prototype=o.prototype,["UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE"].forEach(function(t){XMLHttpRequest[t]=o[t]}),function(){c=!0,XMLHttpRequest=o}};var n=o(r(0)),i=o(r(2));function o(t){return t&&t.__esModule?t:{default:t}}var s=!0;var u=0},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e,r){var n=t[e];return t[e]=function(){for(var t=void 0,e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];return n&&(t=n.apply(this,i)),r.apply(this,i),t},function(){t[e]=n}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.Capture=e.registerExceptions=void 0;var n,i=r(16),o=(n=i)&&n.__esModule?n:{default:n},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(6));e.registerExceptions=o.default,e.Capture=s},function(module,exports){var g;g=function(){return this}();try{g=g||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(g=window)}module.exports=g},function(t,e,r){(function(e){var r={collectWindowErrors:!0,debug:!1},n="undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{},i=[].slice,o="?",s=/^(?:Uncaught (?:exception: )?)?((?:Eval|Internal|Range|Reference|Syntax|Type|URI)Error): ?(.*)$/;function u(){return"undefined"==typeof document||void 0===document.location?"":document.location.href}r.report=function(){var t,e,a=[],c=null,l=null,f=null;function p(t,e){var n=null;if(!e||r.collectWindowErrors){for(var o in a)if(a.hasOwnProperty(o))try{a[o].apply(null,[t].concat(i.call(arguments,2)))}catch(t){n=t}if(n)throw n}}function d(e,n,i,a,c){if(f)r.computeStackTrace.augmentStackTraceWithInitialElement(f,n,i,e),h();else if(c)p(r.computeStackTrace(c),!0);else{var l,d={url:n,line:i,column:a},b=void 0,y=e;if("[object String]"==={}.toString.call(e))(l=e.match(s))&&(b=l[1],y=l[2]);d.func=o,p({name:b,message:y,url:u(),stack:[d]},!0)}return!!t&&t.apply(this,arguments)}function h(){var t=f,e=c;c=null,f=null,l=null,p.apply(null,[t,!1].concat(e))}function b(t,e){var n=i.call(arguments,1);if(f){if(l===t)return;h()}var o=r.computeStackTrace(t);if(f=o,l=t,c=n,setTimeout(function(){l===t&&h()},o.incomplete?2e3:0),!1!==e)throw t}return b.subscribe=function(r){e||(t=n.onerror,n.onerror=d,e=!0),a.push(r)},b.unsubscribe=function(t){for(var e=a.length-1;e>=0;--e)a[e]===t&&a.splice(e,1)},b.uninstall=function(){e&&(n.onerror=t,e=!1,t=void 0),a=[]},b}(),r.computeStackTrace=function(){function t(t){if(void 0!==t.stack&&t.stack){for(var e,r,n=/^\s*at (.*?) ?\(((?:file|https?|blob|chrome-extension|native|eval|<anonymous>).*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,i=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)((?:file|https?|blob|chrome|resource|\[native).*?)(?::(\d+))?(?::(\d+))?\s*$/i,s=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:file|ms-appx|https?|blob):.*?):(\d+)(?::(\d+))?\)?\s*$/i,a=t.stack.split("\n"),c=[],l=(/^(.*) is undefined$/.exec(t.message),0),f=a.length;l<f;++l){if(e=n.exec(a[l])){var p=e[2]&&-1!==e[2].indexOf("native");r={url:p?null:e[2],func:e[1]||o,args:p?[e[2]]:[],line:e[3]?+e[3]:null,column:e[4]?+e[4]:null}}else if(e=s.exec(a[l]))r={url:e[2],func:e[1]||o,args:[],line:+e[3],column:e[4]?+e[4]:null};else{if(!(e=i.exec(a[l])))continue;r={url:e[3],func:e[1]||o,args:e[2]?e[2].split(","):[],line:e[4]?+e[4]:null,column:e[5]?+e[5]:null}}!r.func&&r.line&&(r.func=o),c.push(r)}return c.length?(c[0].column||void 0===t.columnNumber||(c[0].column=t.columnNumber+1),{name:t.name,message:t.message,url:u(),stack:c}):null}}function e(t,e,r,n){var i={url:e,line:r};if(i.url&&i.line){if(t.incomplete=!1,i.func||(i.func=o),t.stack.length>0&&t.stack[0].url===i.url){if(t.stack[0].line===i.line)return!1;if(!t.stack[0].line&&t.stack[0].func===i.func)return t.stack[0].line=i.line,!1}return t.stack.unshift(i),t.partial=!0,!0}return t.incomplete=!0,!1}function n(t,s){for(var a,c,l=/function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i,f=[],p={},d=!1,h=n.caller;h&&!d;h=h.caller)if(h!==i&&h!==r.report){if(c={url:null,func:o,line:null,column:null},h.name?c.func=h.name:(a=l.exec(h.toString()))&&(c.func=a[1]),void 0===c.func)try{c.func=a.input.substring(0,a.input.indexOf("{"))}catch(t){}p[""+h]?d=!0:p[""+h]=!0,f.push(c)}s&&f.splice(0,s);var b={name:t.name,message:t.message,url:u(),stack:f};return e(b,t.sourceURL||t.fileName,t.line||t.lineNumber,t.message||t.description),b}function i(e,i){var o=null;i=null==i?0:+i;try{if(o=t(e))return o}catch(t){if(r.debug)throw t}try{if(o=n(e,i+1))return o}catch(t){if(r.debug)throw t}return{name:e.name,message:e.message,url:u()}}return i.augmentStackTraceWithInitialElement=e,i.computeStackTraceFromStackProp=t,i}(),t.exports=r}).call(this,r(4))},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.captureMessage=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={exceptionType:arguments.length>3&&void 0!==arguments[3]&&arguments[3]?"CONSOLE":"MESSAGE",message:e,browserHref:window.location.href};a(n,r),t.addEvent("lr.core.Exception",function(){return n})},e.captureException=function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:null)||i.default.computeStackTrace(e),s={exceptionType:"WINDOW",errorType:n.name,message:n.message,browserHref:window.location.href};a(s,r);var u={_stackTrace:(0,o.default)(n)};t.addEvent("lr.core.Exception",function(){return s},u)};var i=s(r(5)),o=s(r(18));function s(t){return t&&t.__esModule?t:{default:t}}function u(t){return/boolean|number|string/.test(void 0===t?"undefined":n(t))}function a(t,e){if(e){var r=!0,n=!1,i=void 0;try{for(var o,s=["level","logger"][Symbol.iterator]();!(r=(o=s.next()).done);r=!0){var a=o.value,c=e[a];u(c)&&(t[a]=c.toString())}}catch(t){n=!0,i=t}finally{try{!r&&s.return&&s.return()}finally{if(n)throw i}}var l=!0,f=!1,p=void 0;try{for(var d,h=["tags","extra"][Symbol.iterator]();!(l=(d=h.next()).done);l=!0){var b=d.value,y=e[b]||{},v={},m=!0,_=!1,g=void 0;try{for(var w,S=Object.keys(y)[Symbol.iterator]();!(m=(w=S.next()).done);m=!0){var x=w.value,E=y[x];u(E)&&(v[x.toString()]=E.toString())}}catch(t){_=!0,g=t}finally{try{!m&&S.return&&S.return()}finally{if(_)throw g}}t[b]=v}}catch(t){f=!0,p=t}finally{try{!l&&h.return&&h.return()}finally{if(f)throw p}}}}},function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Date.now.bind(Date),n=r();e.default="undefined"!=typeof performance&&performance.now?performance.now.bind(performance):function(){return r()-n},t.exports=e.default},function(t,e,r){t.exports=r(9)},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(10);var o=(0,((n=i)&&n.__esModule?n:{default:n}).default)();e.default=o,t.exports=e.default},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.enterpriseServer,r=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["enterpriseServer"]),n=r.sdkServer||e,i=r.ingestServer||e,s=(0,o.default)(function(){var t=document.createElement("script");i&&(void 0===window.__SDKCONFIG__&&(window.__SDKCONFIG__={}),window.__SDKCONFIG__.serverURL=i+"/i",window.__SDKCONFIG__.statsURL=i+"/s"),n?t.src=n+"/logger.min.js":window.__SDKCONFIG__&&window.__SDKCONFIG__.loggerURL?t.src=window.__SDKCONFIG__.loggerURL:window._lrAsyncScript?t.src=window._lrAsyncScript:t.src="https://cdn.logrocket.io/logger.min.js",t.async=!0,document.head.appendChild(t),t.onload=function(){s.onLogger(new window._LRLogger({sdkVersion:"0.6.19"}))},t.onerror=function(){console.warn("LogRocket: script could not load. Check that you have a valid network connection."),s.uninstall()}});return s};var n,i=r(11),o=(n=i)&&n.__esModule?n:{default:n};t.exports=e.default},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){};if("undefined"!=typeof navigator&&"ReactNative"===navigator.product)throw new Error(s);if("undefined"!=typeof window){if(window._disableLogRocket)return u();if(window.MutationObserver){window._lrMutationObserver=window.MutationObserver;var e=new o.default;return t(e),e}}return u()};var n,i=r(12),o=(n=i)&&n.__esModule?n:{default:n};var s="LogRocket does not yet support React Native.",u=function(){return{init:function(){},uninstall:function(){},log:function(){},info:function(){},warn:function(){},error:function(){},debug:function(){},addEvent:function(){},identify:function(){},start:function(){},get threadID(){return null},get recordingID(){return null},get recordingURL(){return null},reduxEnhancer:function(){return function(t){return function(){return t.apply(void 0,arguments)}}},reduxMiddleware:function(){return function(){return function(t){return function(e){return t(e)}}}},track:function(){},getSessionURL:function(){},getVersion:function(){},startNewSession:function(){},onLogger:function(){},setClock:function(){},captureMessage:function(){},captureException:function(){}}};t.exports=e.default},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.MAX_QUEUE_SIZE=void 0;var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=c(r(13)),s=r(3),u=c(r(19)),a=r(21);function c(t){return t&&t.__esModule?t:{default:t}}var l=e.MAX_QUEUE_SIZE=1e3,f=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.ingestServer,r=function(t,e){var r={};for(var n in t)e.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n]);return r}(t,["ingestServer"]);return e?i({serverURL:e+"/i",statsURL:e+"/s"},r):r},p=function(){function t(){var e=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._buffer=[],["log","info","warn","error","debug"].forEach(function(t){e[t]=function(){for(var r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];e.addEvent("lr.core.LogEvent",function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"error"===t&&r.shouldAggregateConsoleErrors&&s.Capture.captureMessage(e,n[0],{},!0),{logLevel:t.toUpperCase(),args:n}},{shouldCaptureStackTrace:!0})}}),this._isInitialized=!1,this._installed=[]}return n(t,[{key:"addEvent",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=Date.now();this._run(function(o){o.addEvent(t,e,i({},r,{timeOverride:n}))})}},{key:"onLogger",value:function(t){for(this._logger=t;this._buffer.length>0;){this._buffer.shift()(this._logger)}}},{key:"_run",value:function(t){if(!this._isDisabled)if(this._logger)t(this._logger);else{if(this._buffer.length>=l)return this._isDisabled=!0,console.warn("LogRocket: script did not load. Check that you have a valid network connection."),void this.uninstall();this._buffer.push(t.bind(this))}}},{key:"init",value:function(t,e){this._isInitialized||(this._installed.push((0,s.registerExceptions)(this)),this._installed.push((0,o.default)(this)),this._installed.push((0,u.default)(this)),this._isInitialized=!0,this._run(function(r){r.init(t,f(e))}))}},{key:"start",value:function(){this._run(function(t){t.start()})}},{key:"uninstall",value:function(){this._installed.forEach(function(t){return t()}),this._buffer=[],this._run(function(t){t.uninstall()})}},{key:"identify",value:function(t,e){this._run(function(r){r.identify(t,e)})}},{key:"startNewSession",value:function(){this._run(function(t){t.startNewSession()})}},{key:"track",value:function(t){this._run(function(e){e.track(t)})}},{key:"getSessionURL",value:function(t){if("function"!=typeof t)throw new Error("LogRocket: must pass callback to getSessionURL()");this._run(function(e){e.getSessionURL?e.getSessionURL(t):t(e.recordingURL)})}},{key:"getVersion",value:function(t){this._run(function(e){t(e.version)})}},{key:"startTransaction",value:function(t){this.addEvent("lr.transaction.Start",function(){return{id:t}})}},{key:"endTransaction",value:function(t){this.addEvent("lr.transaction.End",function(){return{id:t}})}},{key:"captureMessage",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.Capture.captureMessage(this,t,e)}},{key:"captureException",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};s.Capture.captureException(this,t,e)}},{key:"reduxEnhancer",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.createEnhancer)(this,t)}},{key:"reduxMiddleware",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(0,a.createMiddleware)(this,t)}},{key:"version",get:function(){return this._logger&&this._logger.version}},{key:"sessionURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingURL",get:function(){return this._logger&&this._logger.recordingURL}},{key:"recordingID",get:function(){return this._logger&&this._logger.recordingID}},{key:"threadID",get:function(){return this._logger&&this._logger.threadID}},{key:"tabID",get:function(){return this._logger&&this._logger.tabID}}]),t}();e.default=p},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){var e={},r=function(t){var e=t;if("object"===(void 0===t?"undefined":n(t))&&null!=t){var r=Object.getPrototypeOf(t);r!==Object.prototype&&null!==r||(e=JSON.stringify(t))}if(e&&e.length&&e.length>4096e3&&"string"==typeof e){var i=e.substring(0,1e3);return i+" ... LogRocket truncating to first 1000 characters.\n      Keep data under 4MB to prevent truncation. https://docs.logrocket.com/reference#network"}return t},u=function(n,i){var o=i.method;t.addEvent("lr.network.RequestEvent",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},u=t.isEnabled,a=void 0===u||u,c=t.requestSanitizer,l=void 0===c?function(t){return t}:c;if(!a)return null;var f=null;try{f=l(i)}catch(t){console.error(t)}if(f){var p=document.createElement("a");return p.href=f.url,{reqId:n,url:p.href,headers:(0,s.default)(f.headers,function(t){return""+t}),body:r(f.body),method:o,referrer:f.referrer||void 0,mode:f.mode||void 0,credentials:f.credentials||void 0}}return e[n]=!0,null})},a=function(n,i){var o=i.method,u=i.status;t.addEvent("lr.network.ResponseEvent",function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},a=t.isEnabled,c=void 0===a||a,l=t.responseSanitizer,f=void 0===l?function(t){return t}:l;if(!c)return null;if(e[n])return delete e[n],null;var p=null;try{p=f(i)}catch(t){console.error(t)}return p?{reqId:n,status:p.status,headers:(0,s.default)(p.headers,function(t){return""+t}),body:r(p.body),method:o}:{reqId:n,status:u,headers:{},body:null,method:o}})},c=(0,i.default)({addRequest:u,addResponse:a}),l=(0,o.default)({addRequest:u,addResponse:a});return function(){c(),l()}};var i=u(r(14)),o=u(r(1)),s=u(r(0));function u(t){return t&&t.__esModule?t:{default:t}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=function(t){var e=t.addRequest,r=t.addResponse,i={};return o.default.register({request:function(t){for(var r=arguments.length,o=Array(r>1?r-1:0),s=1;s<r;s++)o[s-1]=arguments[s];return("undefined"!=typeof Request&&o[0]instanceof Request?o[0].clone().text().then(function(t){return n({},a(o[0]),{body:t})}):Promise.resolve(n({},a(o[1]),{url:""+o[0],body:(o[1]||{}).body}))).then(function(r){return i[t]=r.method,e("fetch-"+t,r),o})},requestError:function(t,e){return Promise.reject(e)},response:function(t,e){var n=void 0;try{n=e.clone().text()}catch(t){n=Promise.resolve("LogRocket fetch error: "+t.message)}return n.then(function(n){var o={url:e.url,status:e.status,headers:u(e.headers),body:n,method:i[t]};return delete i[t],r("fetch-"+t,o),e})},responseError:function(t,e){var n={url:void 0,status:0,headers:{},body:""+e};return r("fetch-"+t,n),Promise.reject(e)}})};var i=s(r(0)),o=s(r(15));function s(t){return t&&t.__esModule?t:{default:t}}var u=function(t){return(0,i.default)(function(t){if(null==t||"function"!=typeof t.forEach)return t;var e={};return t.forEach(function(t,r){e[r]?e[r]=e[r]+","+t:e[r]=""+t}),e}(t),function(t){return""+t})};function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{url:t.url,headers:u(t.headers),method:t.method&&t.method.toUpperCase(),referrer:t.referrer||void 0,mode:t.mode||void 0,credentials:t.credentials||void 0}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);function i(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var o=[];function s(t){if(t.fetch&&t.Promise){var e,r,s=t.fetch.polyfill;t.fetch=(e=t.fetch,r=0,function(){for(var t=arguments.length,s=Array(t),u=0;u<t;u++)s[u]=arguments[u];return function(t,e){for(var r=arguments.length,s=Array(r>2?r-2:0),u=2;u<r;u++)s[u-2]=arguments[u];var a=o.reduce(function(t,e){return[e].concat(t)},[]),c=Promise.resolve(s);return a.forEach(function(t){var r=t.request,n=t.requestError;(r||n)&&(c=c.then(function(t){return r.apply(void 0,[e].concat(i(t)))},function(t){return n.apply(void 0,[e].concat(i(t)))}))}),c=c.then(function(e){(0,n.setActive)(!1);var r=void 0,o=void 0;try{r=t.apply(void 0,i(e))}catch(t){o=t}if((0,n.setActive)(!0),o)throw o;return r}),a.forEach(function(t){var r=t.response,n=t.responseError;(r||n)&&(c=c.then(function(t){return r(e,t)},function(t){return n&&n(e,t)}))}),c}.apply(void 0,[e,r++].concat(s))}),s&&(t.fetch.polyfill=s)}}var u=!1;e.default={register:function(t){return u||(u=!0,s(window)),o.push(t),function(){var e=o.indexOf(t);e>=0&&o.splice(e,1)}},clear:function(){o=[]}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=new o.default({captureException:function(e){s.captureException(t,null,null,e)}}),r=function(e){t.addEvent("lr.core.Exception",function(){return{exceptionType:"UNHANDLED_REJECTION",message:e.reason||"Unhandled Promise rejection"}})};return window.addEventListener("unhandledrejection",r),function(){window.removeEventListener("unhandledrejection",r),e.uninstall()}};var n,i=r(17),o=(n=i)&&n.__esModule?n:{default:n},s=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}(r(6))},function(t,e,r){(function(t){Object.defineProperty(e,"__esModule",{value:!0});var n,i=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),o=r(5),s=(n=o)&&n.__esModule?n:{default:n};var u=Object.prototype;function a(t){return"function"==typeof t}function c(t,e,r,n){var i=t[e];t[e]=r(i),n&&n.push([t,e,i])}var l="undefined"!=typeof window?window:void 0!==t?t:"undefined"!=typeof self?self:{},f=(l.document,function(){function t(e){var r=e.captureException;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._errorHandler=this._errorHandler.bind(this),this._ignoreOnError=0,this._wrappedBuiltIns=[],this.captureException=r,s.default.report.subscribe(this._errorHandler),this._instrumentTryCatch()}return i(t,[{key:"uninstall",value:function(){var t;for(s.default.report.unsubscribe(this._errorHandler);this._wrappedBuiltIns.length;){var e=(t=this._wrappedBuiltIns.shift())[0],r=t[1],n=t[2];e[r]=n}}},{key:"_errorHandler",value:function(t){this._ignoreOnError||this.captureException(t)}},{key:"_ignoreNextOnError",value:function(){var t=this;this._ignoreOnError+=1,setTimeout(function(){t._ignoreOnError-=1})}},{key:"context",value:function(t,e,r){return a(t)&&(r=e||[],e=t,t=void 0),this.wrap(t,e).apply(this,r)}},{key:"wrap",value:function(t,e,r){var n,i,o=this;if(void 0===e&&!a(t))return t;if(a(t)&&(e=t,t=void 0),!a(e))return e;try{if(e.__lr__)return e;if(e.__lr_wrapper__)return e.__lr_wrapper__}catch(t){return e}function c(){var n=[],i=arguments.length,u=!t||t&&!1!==t.deep;for(r&&a(r)&&r.apply(this,arguments);i--;)n[i]=u?o.wrap(t,arguments[i]):arguments[i];try{return e.apply(this,n)}catch(e){throw o._ignoreNextOnError(),o.captureException(s.default.computeStackTrace(e),t),e}}for(var l in e)n=e,i=l,u.hasOwnProperty.call(n,i)&&(c[l]=e[l]);return c.prototype=e.prototype,e.__lr_wrapper__=c,c.__lr__=!0,c.__inner__=e,c}},{key:"_instrumentTryCatch",value:function(){var t=this,e=t._wrappedBuiltIns;function r(e){return function(r,n){for(var i=new Array(arguments.length),o=0;o<i.length;++o)i[o]=arguments[o];var s=i[0];return a(s)&&(i[0]=t.wrap(s)),e.apply?e.apply(this,i):e(i[0],i[1])}}c(l,"setTimeout",r,e),c(l,"setInterval",r,e),l.requestAnimationFrame&&c(l,"requestAnimationFrame",function(e){return function(r){return e(t.wrap(r))}},e);for(var n,i,o=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],s=0;s<o.length;s++)i=void 0,(i=l[n=o[s]]&&l[n].prototype)&&i.hasOwnProperty&&i.hasOwnProperty("addEventListener")&&(c(i,"addEventListener",function(e){return function(r,n,i,o){try{n&&n.handleEvent&&(n.handleEvent=t.wrap(n.handleEvent))}catch(t){}return e.call(this,r,t.wrap(n,void 0,void 0),i,o)}},e),c(i,"removeEventListener",function(t){return function(e,r,n,i){try{r=r&&(r.__lr_wrapper__?r.__lr_wrapper__:r)}catch(t){}return t.call(this,e,r,n,i)}},e));var u=l.jQuery||l.$;u&&u.fn&&u.fn.ready&&c(u.fn,"ready",function(e){return function(r){return e.call(this,t.wrap(r))}},e)}}]),t}());e.default=f}).call(this,r(4))},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(t){return null===t?void 0:t}return t.stack?t.stack.map(function(t){return{lineNumber:e(t.line),columnNumber:e(t.column),fileName:e(t.url),functionName:e(t.func)}}):void 0}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n,i=r(20),o=(n=i)&&n.__esModule?n:{default:n};e.default=o.default},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.default=function(t){var e=[];return["log","warn","info","error","debug"].forEach(function(r){e.push((0,s.default)(console,r,function(){for(var e=arguments.length,i=Array(e),o=0;o<e;o++)i[o]=arguments[o];t.addEvent("lr.core.LogEvent",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.isEnabled;return"object"===(void 0===o?"undefined":n(o))&&!1===o[r]||!1===o?null:("error"===r&&e.shouldAggregateConsoleErrors&&u.Capture.captureMessage(t,i[0],{},!0),{logLevel:r.toUpperCase(),args:i})})}))}),function(){e.forEach(function(t){return t()})}};var i,o=r(2),s=(i=o)&&i.__esModule?i:{default:i},u=r(3)},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.createEnhancer=e.createMiddleware=void 0;var n=o(r(22)),i=o(r(23));function o(t){return t&&t.__esModule?t:{default:t}}e.createMiddleware=i.default,e.createEnhancer=n.default},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.stateSanitizer,i=void 0===r?function(t){return t}:r,o=e.actionSanitizer,a=void 0===o?function(t){return t}:o;return function(e){return function(r,o,c){var l=e(r,o,c),f=l.dispatch,p=u++;t.addEvent("lr.redux.InitialState",function(){var t=void 0;try{t=i(l.getState())}catch(t){console.error(t.toString())}return{state:t,storeId:p}});return n({},l,{dispatch:function(e){var r=(0,s.default)(),n=void 0,o=void 0;try{o=f(e)}catch(t){n=t}finally{var u=(0,s.default)()-r;t.addEvent("lr.redux.ReduxAction",function(){var t=null,r=null;try{t=i(l.getState()),r=a(e)}catch(t){console.error(t.toString())}return t&&r?{storeId:p,action:r,duration:u,stateDelta:t}:null})}if(n)throw n;return o}})}}};var i,o=r(7),s=(i=o)&&i.__esModule?i:{default:i};var u=0},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=e.stateSanitizer,n=void 0===r?function(t){return t}:r,i=e.actionSanitizer,u=void 0===i?function(t){return t}:i;return function(e){var r=s++;return t.addEvent("lr.redux.InitialState",function(){var t=void 0;try{t=n(e.getState())}catch(t){console.error(t.toString())}return{state:t,storeId:r}}),function(i){return function(s){var a=(0,o.default)(),c=void 0,l=void 0;try{l=i(s)}catch(t){c=t}finally{var f=(0,o.default)()-a;t.addEvent("lr.redux.ReduxAction",function(){var t=null,i=null;try{t=n(e.getState()),i=u(s)}catch(t){console.error(t.toString())}return t&&i?{storeId:r,action:i,duration:f,stateDelta:t}:null})}if(c)throw c;return l}}}};var n,i=r(7),o=(n=i)&&n.__esModule?n:{default:n};var s=0}])},module.exports=factory()}),LogRocket=unwrapExports(build_umd),root;function symbolObservablePonyfill(t){var e,r=t.Symbol;return"function"==typeof r?r.observable?e=r.observable:(e=r("observable"),r.observable=e):e="@@observable",e}root="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof module?module:Function("return this")();var result=symbolObservablePonyfill(root),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject(t){if("object"!=typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function createStore(t,e,r){var n;if("function"==typeof e&&"function"==typeof r||"function"==typeof r&&"function"==typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"==typeof e&&void 0===r&&(r=e,e=void 0),void 0!==r){if("function"!=typeof r)throw new Error("Expected the enhancer to be a function.");return r(createStore)(t,e)}if("function"!=typeof t)throw new Error("Expected the reducer to be a function.");var i=t,o=e,s=[],u=s,a=!1;function c(){u===s&&(u=s.slice())}function l(){if(a)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return o}function f(t){if("function"!=typeof t)throw new Error("Expected the listener to be a function.");if(a)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return c(),u.push(t),function(){if(e){if(a)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,c();var r=u.indexOf(t);u.splice(r,1)}}}function p(t){if(!isPlainObject(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(a)throw new Error("Reducers may not dispatch actions.");try{a=!0,o=i(o,t)}finally{a=!1}for(var e=s=u,r=0;r<e.length;r++){(0,e[r])()}return t}return p({type:ActionTypes.INIT}),(n={dispatch:p,subscribe:f,getState:l,replaceReducer:function(t){if("function"!=typeof t)throw new Error("Expected the nextReducer to be a function.");i=t,p({type:ActionTypes.REPLACE})}})[result]=function(){var t,e=f;return(t={subscribe:function(t){if("object"!=typeof t||null===t)throw new TypeError("Expected the observer to be an object.");function r(){t.next&&t.next(l())}return r(),{unsubscribe:e(r)}}})[result]=function(){return this},t},n}function _defineProperty(t,e,r){return e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(t){return Object.getOwnPropertyDescriptor(r,t).enumerable}))),n.forEach(function(e){_defineProperty(t,e,r[e])})}return t}function compose(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function applyMiddleware(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return function(){var r=t.apply(void 0,arguments),n=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},o=e.map(function(t){return t(i)});return _objectSpread({},r,{dispatch:n=compose.apply(void 0,o)(r.dispatch)})}}}var keyHasType=function(t,e){return t===e||"function"==typeof e&&t===e.toString()},ofType=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];return function(t){return t.pipe(filter(function(t){var r=t.type,n=e.length;if(1===n)return keyHasType(r,e[0]);for(var i=0;i<n;i++)if(keyHasType(r,e[i]))return!0;return!1}))}},_createClass=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}();function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var ActionsObservable=function(t){function e(t){_classCallCheck(this,e);var r=_possibleConstructorReturn(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return r.source=t,r}return _inherits(e,Observable),_createClass(e,null,[{key:"of",value:function(){return new this(of.apply(void 0,arguments))}},{key:"from",value:function(t,e){return new this(from(t,e))}}]),_createClass(e,[{key:"lift",value:function(t){var r=new e(this);return r.operator=t,r}},{key:"ofType",value:function(){return ofType.apply(void 0,arguments)(this)}}]),e}();function _classCallCheck$1(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function _inherits$1(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var StateObservable=function(t){function e(t,r){_classCallCheck$1(this,e);var n=_possibleConstructorReturn$1(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,function(t){var e=n.__notifier.subscribe(t);return e&&!e.closed&&t.next(n.value),e}));return n.value=r,n.__notifier=new Subject,n.__subscription=t.subscribe(function(t){t!==n.value&&(n.value=t,n.__notifier.next(t))}),n}return _inherits$1(e,Observable),e}();function createEpicMiddleware(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=new Subject,r=void 0,n=function(n){r=n;var i=(new Subject).pipe(observeOn(queue)),o=(new Subject).pipe(observeOn(queue)),s=new ActionsObservable(i),u=new StateObservable(o,r.getState());return e.pipe(map(function(e){var r="dependencies"in t?e(s,u,t.dependencies):e(s,u);if(!r)throw new TypeError('Your root Epic "'+(e.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return r}),mergeMap(function(t){return from(t).pipe(subscribeOn(queue),observeOn(queue))})).subscribe(r.dispatch),function(t){return function(e){var n=t(e);return o.next(r.getState()),i.next(e),n}}};return n.run=function(t){e.next(t)},n}function _toConsumableArray(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}var combineEpics=function(){for(var t=arguments.length,e=Array(t),r=0;r<t;r++)e[r]=arguments[r];var n=function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return merge.apply(void 0,_toConsumableArray(e.map(function(t){var e=t.apply(void 0,r);if(!e)throw new TypeError('combineEpics: one of the provided Epics "'+(t.name||"<anonymous>")+"\" does not return a stream. Double check you're not missing a return statement!");return e})))};try{Object.defineProperty(n,"name",{value:"combineEpics("+e.map(function(t){return t.name||"<anonymous>"}).join(", ")+")"})}catch(t){}return n},callOnce=function(t){var e=0;return function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];0===e&&(e+=1,t.apply(void 0,r))}};function wait(t){return new Promise(function(e){setTimeout(function(){e()},t)})}var get=function(t){try{return t()}catch(t){return}},trackEvent="mutation TrackLabelingAPIEvent($name: String!, $properties: Json) {\n  track(data: {\n    name: $name,\n    properties: $properties\n  }) {\n    success\n  }\n}\n",__assign$1=function(){return(__assign$1=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},logRocketKey=getEnvVar("LOG_ROCKET_KEY"),useLogRocket=function(){return Boolean(logRocketKey)};if(useLogRocket()){var releaseTag=getEnvVar("RELEASE_TAG"),releaseOptions=releaseTag?{release:releaseTag}:{},options=__assign$1({rootHostname:"labelbox.com"},releaseOptions);LogRocket.init(logRocketKey,options)}function track(t,e,r){var n=t.id,i=t.name,o=t.email;void 0===r&&(r={});var s=getEnvVar("SEGMENT_KEY");if(s){var u=btoa(s+":"),a=useLogRocket()&&LogRocket.sessionURL||void 0;window.fetch("https://api.segment.io/v1/track",{body:JSON.stringify({sessionURL:a,event:e,properties:__assign$1({name:i,email:o},r),userId:n}),headers:{Authorization:"Basic "+u,"Content-Type":"application/json"},method:"POST"})}else sendQuery({query:trackEvent,variables:{name:e,properties:r}})}var identifyUser=callOnce(function(t){useLogRocket()&&LogRocket.identify(t.id,{name:t.name,email:t.email})});function _isPlaceholder(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function _curry1(t){return function e(r){return 0===arguments.length||_isPlaceholder(r)?e:t.apply(this,arguments)}}var always=_curry1(function(t){return function(){return t}}),F=always(!1),T=always(!0);function _curry2(t){return function e(r,n){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(r)?e:_curry1(function(e){return t(r,e)});default:return _isPlaceholder(r)&&_isPlaceholder(n)?e:_isPlaceholder(r)?_curry1(function(e){return t(e,n)}):_isPlaceholder(n)?_curry1(function(e){return t(r,e)}):t(r,n)}}}var add=_curry2(function(t,e){return Number(t)+Number(e)});function _concat(t,e){var r;t=t||[],e=e||[];var n=t.length,i=e.length,o=[];for(r=0;r<n;)o[o.length]=t[r],r+=1;for(r=0;r<i;)o[o.length]=e[r],r+=1;return o}function _arity(t,e){switch(t){case 0:return function(){return e.apply(this,arguments)};case 1:return function(t){return e.apply(this,arguments)};case 2:return function(t,r){return e.apply(this,arguments)};case 3:return function(t,r,n){return e.apply(this,arguments)};case 4:return function(t,r,n,i){return e.apply(this,arguments)};case 5:return function(t,r,n,i,o){return e.apply(this,arguments)};case 6:return function(t,r,n,i,o,s){return e.apply(this,arguments)};case 7:return function(t,r,n,i,o,s,u){return e.apply(this,arguments)};case 8:return function(t,r,n,i,o,s,u,a){return e.apply(this,arguments)};case 9:return function(t,r,n,i,o,s,u,a,c){return e.apply(this,arguments)};case 10:return function(t,r,n,i,o,s,u,a,c,l){return e.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function _curryN(t,e,r){return function(){for(var n=[],i=0,o=t,s=0;s<e.length||i<arguments.length;){var u;s<e.length&&(!_isPlaceholder(e[s])||i>=arguments.length)?u=e[s]:(u=arguments[i],i+=1),n[s]=u,_isPlaceholder(u)||(o-=1),s+=1}return o<=0?r.apply(this,n):_arity(o,_curryN(t,n,r))}}var curryN=_curry2(function(t,e){return 1===t?_curry1(e):_arity(t,_curryN(t,[],e))});function _curry3(t){return function e(r,n,i){switch(arguments.length){case 0:return e;case 1:return _isPlaceholder(r)?e:_curry2(function(e,n){return t(r,e,n)});case 2:return _isPlaceholder(r)&&_isPlaceholder(n)?e:_isPlaceholder(r)?_curry2(function(e,r){return t(e,n,r)}):_isPlaceholder(n)?_curry2(function(e,n){return t(r,e,n)}):_curry1(function(e){return t(r,n,e)});default:return _isPlaceholder(r)&&_isPlaceholder(n)&&_isPlaceholder(i)?e:_isPlaceholder(r)&&_isPlaceholder(n)?_curry2(function(e,r){return t(e,r,i)}):_isPlaceholder(r)&&_isPlaceholder(i)?_curry2(function(e,r){return t(e,n,r)}):_isPlaceholder(n)&&_isPlaceholder(i)?_curry2(function(e,n){return t(r,e,n)}):_isPlaceholder(r)?_curry1(function(e){return t(e,n,i)}):_isPlaceholder(n)?_curry1(function(e){return t(r,e,i)}):_isPlaceholder(i)?_curry1(function(e){return t(r,n,e)}):t(r,n,i)}}}var _isArray=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function _isTransformer(t){return"function"==typeof t["@@transducer/step"]}function _dispatchable(t,e,r){return function(){if(0===arguments.length)return r();var n=Array.prototype.slice.call(arguments,0),i=n.pop();if(!_isArray(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,n);o+=1}if(_isTransformer(i))return e.apply(null,n)(i)}return r.apply(this,arguments)}}var _xfBase={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},max$1=_curry2(function(t,e){return e>t?e:t});function _map(t,e){for(var r=0,n=e.length,i=Array(n);r<n;)i[r]=t(e[r]),r+=1;return i}function _isString(t){return"[object String]"===Object.prototype.toString.call(t)}var _isArrayLike=_curry1(function(t){return!!_isArray(t)||!!t&&("object"==typeof t&&(!_isString(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),XWrap=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,e){return this.f(t,e)},t}();function _xwrap(t){return new XWrap(t)}var bind=_curry2(function(t,e){return _arity(t.length,function(){return t.apply(e,arguments)})});function _arrayReduce(t,e,r){for(var n=0,i=r.length;n<i;){if((e=t["@@transducer/step"](e,r[n]))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n+=1}return t["@@transducer/result"](e)}function _iterableReduce(t,e,r){for(var n=r.next();!n.done;){if((e=t["@@transducer/step"](e,n.value))&&e["@@transducer/reduced"]){e=e["@@transducer/value"];break}n=r.next()}return t["@@transducer/result"](e)}function _methodReduce(t,e,r,n){return t["@@transducer/result"](r[n](bind(t["@@transducer/step"],t),e))}var symIterator="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function _reduce(t,e,r){if("function"==typeof t&&(t=_xwrap(t)),_isArrayLike(r))return _arrayReduce(t,e,r);if("function"==typeof r["fantasy-land/reduce"])return _methodReduce(t,e,r,"fantasy-land/reduce");if(null!=r[symIterator])return _iterableReduce(t,e,r[symIterator]());if("function"==typeof r.next)return _iterableReduce(t,e,r);if("function"==typeof r.reduce)return _methodReduce(t,e,r,"reduce");throw new TypeError("reduce: list must be array or iterable")}var XMap=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(t,e){return this.xf["@@transducer/step"](t,this.f(e))},t}(),_xmap=_curry2(function(t,e){return new XMap(t,e)});function _has(t,e){return Object.prototype.hasOwnProperty.call(e,t)}var toString$1=Object.prototype.toString,_isArguments=function(){return"[object Arguments]"===toString$1.call(arguments)?function(t){return"[object Arguments]"===toString$1.call(t)}:function(t){return _has("callee",t)}},hasEnumBug=!{toString:null}.propertyIsEnumerable("toString"),nonEnumerableProps=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],hasArgsEnumBug=function(){return arguments.propertyIsEnumerable("length")}(),contains=function(t,e){for(var r=0;r<t.length;){if(t[r]===e)return!0;r+=1}return!1},_keys="function"!=typeof Object.keys||hasArgsEnumBug?function(t){if(Object(t)!==t)return[];var e,r,n=[],i=hasArgsEnumBug&&_isArguments(t);for(e in t)!_has(e,t)||i&&"length"===e||(n[n.length]=e);if(hasEnumBug)for(r=nonEnumerableProps.length-1;r>=0;)_has(e=nonEnumerableProps[r],t)&&!contains(n,e)&&(n[n.length]=e),r-=1;return n}:function(t){return Object(t)!==t?[]:Object.keys(t)},keys=_curry1(_keys),map$6=_curry2(_dispatchable(["fantasy-land/map","map"],_xmap,function(t,e){switch(Object.prototype.toString.call(e)){case"[object Function]":return curryN(e.length,function(){return t.call(this,e.apply(this,arguments))});case"[object Object]":return _reduce(function(r,n){return r[n]=t(e[n]),r},{},keys(e));default:return _map(t,e)}})),path=_curry2(function(t,e){for(var r=e,n=0;n<t.length;){if(null==r)return;r=r[t[n]],n+=1}return r}),prop=_curry2(function(t,e){return path([t],e)}),pluck$1=_curry2(function(t,e){return map$6(prop(t),e)}),reduce$1=_curry3(_reduce),ap=_curry2(function(t,e){return"function"==typeof e["fantasy-land/ap"]?e["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(e):"function"==typeof t?function(r){return t(r)(e(r))}:_reduce(function(t,r){return _concat(t,map$6(r,e))},[],t)}),values=_curry1(function(t){for(var e=keys(t),r=e.length,n=[],i=0;i<r;)n[i]=t[e[i]],i+=1;return n});function _isFunction(t){return"[object Function]"===Object.prototype.toString.call(t)}var liftN=_curry2(function(t,e){var r=curryN(t,e);return curryN(t,function(){return _reduce(ap,map$6(r,arguments[0]),Array.prototype.slice.call(arguments,1))})}),lift=_curry1(function(t){return liftN(t.length,t)}),curry=_curry1(function(t){return curryN(t.length,t)}),call=curry(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});function _makeFlat(t){return function e(r){for(var n,i,o,s=[],u=0,a=r.length;u<a;){if(_isArrayLike(r[u]))for(o=0,i=(n=t?e(r[u]):r[u]).length;o<i;)s[s.length]=n[o],o+=1;else s[s.length]=r[u];u+=1}return s}}function _forceReduced(t){return{"@@transducer/value":t,"@@transducer/reduced":!0}}var preservingReduced=function(t){return{"@@transducer/init":_xfBase.init,"@@transducer/result":function(e){return t["@@transducer/result"](e)},"@@transducer/step":function(e,r){var n=t["@@transducer/step"](e,r);return n["@@transducer/reduced"]?_forceReduced(n):n}}},_flatCat=function(t){var e=preservingReduced(t);return{"@@transducer/init":_xfBase.init,"@@transducer/result":function(t){return e["@@transducer/result"](t)},"@@transducer/step":function(t,r){return _isArrayLike(r)?_reduce(e,t,r):_reduce(e,t,[r])}}},_xchain=_curry2(function(t,e){return map$6(t,_flatCat(e))}),chain=_curry2(_dispatchable(["fantasy-land/chain","chain"],_xchain,function(t,e){return"function"==typeof e?function(r){return t(e(r))(r)}:_makeFlat(!1)(map$6(t,e))})),type=_curry1(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)}),not$1=_curry1(function(t){return!t}),complement=lift(not$1);function _pipe(t,e){return function(){return e.call(this,t.apply(this,arguments))}}function _checkForMethod(t,e){return function(){var r=arguments.length;if(0===r)return e();var n=arguments[r-1];return _isArray(n)||"function"!=typeof n[t]?e.apply(this,arguments):n[t].apply(n,Array.prototype.slice.call(arguments,0,r-1))}}var slice=_curry3(_checkForMethod("slice",function(t,e,r){return Array.prototype.slice.call(r,t,e)})),tail=_curry1(_checkForMethod("tail",slice(1,1/0)));function pipe$1(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return _arity(arguments[0].length,reduce$1(_pipe,arguments[0],tail(arguments)))}var reverse=_curry1(function(t){return _isString(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function compose$1(){if(0===arguments.length)throw new Error("compose requires at least one argument");return pipe$1.apply(this,reverse(arguments))}function _arrayFromIterator(t){for(var e,r=[];!(e=t.next()).done;)r.push(e.value);return r}function _containsWith(t,e,r){for(var n=0,i=r.length;n<i;){if(t(e,r[n]))return!0;n+=1}return!1}function _functionName(t){var e=String(t).match(/^function (\w*)/);return null==e?"":e[1]}var identical=_curry2(function(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e});function _uniqContentEquals(t,e,r,n){var i=_arrayFromIterator(t);function o(t,e){return _equals(t,e,r.slice(),n.slice())}return!_containsWith(function(t,e){return!_containsWith(o,e,t)},_arrayFromIterator(e),i)}function _equals(t,e,r,n){if(identical(t,e))return!0;var i=type(t);if(i!==type(e))return!1;if(null==t||null==e)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof e["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](e)&&"function"==typeof e["fantasy-land/equals"]&&e["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof e.equals)return"function"==typeof t.equals&&t.equals(e)&&"function"==typeof e.equals&&e.equals(t);switch(i){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===_functionName(t.constructor))return t===e;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof e||!identical(t.valueOf(),e.valueOf()))return!1;break;case"Date":if(!identical(t.valueOf(),e.valueOf()))return!1;break;case"Error":return t.name===e.name&&t.message===e.message;case"RegExp":if(t.source!==e.source||t.global!==e.global||t.ignoreCase!==e.ignoreCase||t.multiline!==e.multiline||t.sticky!==e.sticky||t.unicode!==e.unicode)return!1}for(var o=r.length-1;o>=0;){if(r[o]===t)return n[o]===e;o-=1}switch(i){case"Map":return t.size===e.size&&_uniqContentEquals(t.entries(),e.entries(),r.concat([t]),n.concat([e]));case"Set":return t.size===e.size&&_uniqContentEquals(t.values(),e.values(),r.concat([t]),n.concat([e]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var s=keys(t);if(s.length!==keys(e).length)return!1;var u=r.concat([t]),a=n.concat([e]);for(o=s.length-1;o>=0;){var c=s[o];if(!_has(c,e)||!_equals(e[c],t[c],u,a))return!1;o-=1}return!0}var equals=_curry2(function(t,e){return _equals(t,e,[],[])});function _indexOf(t,e,r){var n,i;if("function"==typeof t.indexOf)switch(typeof e){case"number":if(0===e){for(n=1/e;r<t.length;){if(0===(i=t[r])&&1/i===n)return r;r+=1}return-1}if(e!=e){for(;r<t.length;){if("number"==typeof(i=t[r])&&i!=i)return r;r+=1}return-1}return t.indexOf(e,r);case"string":case"boolean":case"function":case"undefined":return t.indexOf(e,r);case"object":if(null===e)return t.indexOf(e,r)}for(;r<t.length;){if(equals(t[r],e))return r;r+=1}return-1}function _contains(t,e){return _indexOf(e,t,0)>=0}function _quote(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var pad=function(t){return(t<10?"0":"")+t},_toISOString="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+pad(t.getUTCMonth()+1)+"-"+pad(t.getUTCDate())+"T"+pad(t.getUTCHours())+":"+pad(t.getUTCMinutes())+":"+pad(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function _complement(t){return function(){return!t.apply(this,arguments)}}function _filter(t,e){for(var r=0,n=e.length,i=[];r<n;)t(e[r])&&(i[i.length]=e[r]),r+=1;return i}function _isObject(t){return"[object Object]"===Object.prototype.toString.call(t)}var XFilter=function(){function t(t,e){this.xf=e,this.f=t}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(t,e){return this.f(e)?this.xf["@@transducer/step"](t,e):t},t}(),_xfilter=_curry2(function(t,e){return new XFilter(t,e)}),filter$6=_curry2(_dispatchable(["filter"],_xfilter,function(t,e){return _isObject(e)?_reduce(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{},keys(e)):_filter(t,e)})),reject=_curry2(function(t,e){return filter$6(_complement(t),e)});function _toString(t,e){var r=function(r){var n=e.concat([t]);return _contains(r,n)?"<Circular>":_toString(r,n)},n=function(t,e){return _map(function(e){return _quote(e)+": "+r(t[e])},e.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+_map(r,t).join(", ")+"))";case"[object Array]":return"["+_map(r,t).concat(n(t,reject(function(t){return/^\d+$/.test(t)},keys(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+r(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?r(NaN):_quote(_toISOString(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+r(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+r(t.valueOf())+")":_quote(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+n(t,keys(t)).join(", ")+"}"}}var toString$2=_curry1(function(t){return _toString(t,[])}),converge=_curry2(function(t,e){return curryN(reduce$1(max$1,0,pluck$1("length",e)),function(){var r=arguments,n=this;return t.apply(n,_map(function(t){return t.apply(n,r)},e))})}),XReduceBy=function(){function t(t,e,r,n){this.valueFn=t,this.valueAcc=e,this.keyFn=r,this.xf=n,this.inputs={}}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=function(t){var e;for(e in this.inputs)if(_has(e,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[e]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,e){var r=this.keyFn(e);return this.inputs[r]=this.inputs[r]||[r,this.valueAcc],this.inputs[r][1]=this.valueFn(this.inputs[r][1],e),t},t}(),_xreduceBy=_curryN(4,[],function(t,e,r,n){return new XReduceBy(t,e,r,n)}),reduceBy=_curryN(4,[],_dispatchable([],_xreduceBy,function(t,e,r,n){return _reduce(function(n,i){var o=r(i);return n[o]=t(_has(o,n)?n[o]:e,i),n},{},n)})),countBy=reduceBy(function(t,e){return t+1},0),dec=add(-1),XDropRepeatsWith=function(){function t(t,e){this.xf=e,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=_xfBase.init,t.prototype["@@transducer/result"]=_xfBase.result,t.prototype["@@transducer/step"]=function(t,e){var r=!1;return this.seenFirstValue?this.pred(this.lastValue,e)&&(r=!0):this.seenFirstValue=!0,this.lastValue=e,r?t:this.xf["@@transducer/step"](t,e)},t}(),_xdropRepeatsWith=_curry2(function(t,e){return new XDropRepeatsWith(t,e)}),nth=_curry2(function(t,e){var r=t<0?e.length+t:t;return _isString(e)?e.charAt(r):e[r]}),last$1=nth(-1),dropRepeatsWith=_curry2(_dispatchable([],_xdropRepeatsWith,function(t,e){var r=[],n=1,i=e.length;if(0!==i)for(r[0]=e[0];n<i;)t(last$1(r),e[n])||(r[r.length]=e[n]),n+=1;return r})),dropRepeats=_curry1(_dispatchable([],_xdropRepeatsWith(equals),dropRepeatsWith(equals))),flip=_curry1(function(t){return curryN(t.length,function(e,r){var n=Array.prototype.slice.call(arguments,0);return n[0]=r,n[1]=e,t.apply(this,n)})}),groupBy$1=_curry2(_checkForMethod("groupBy",reduceBy(function(t,e){return null==t&&(t=[]),t.push(e),t},null))),head=nth(0);function _identity(t){return t}var identity$1=_curry1(_identity),inc=add(1),indexBy=reduceBy(function(t,e){return e},null),init=slice(0,-1),_Set=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!hasOrAdd(t,!0,this)},t.prototype.has=function(t){return hasOrAdd(t,!1,this)},t}();function hasOrAdd(t,e,r){var n,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!r._items["-0"]||(e&&(r._items["-0"]=!0),!1):null!==r._nativeSet?e?(n=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===n):r._nativeSet.has(t):i in r._items?t in r._items[i]||(e&&(r._items[i][t]=!0),!1):(e&&(r._items[i]={},r._items[i][t]=!0),!1);case"boolean":if(i in r._items){var o=t?1:0;return!!r._items[i][o]||(e&&(r._items[i][o]=!0),!1)}return e&&(r._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==r._nativeSet?e?(n=r._nativeSet.size,r._nativeSet.add(t),r._nativeSet.size===n):r._nativeSet.has(t):i in r._items?!!_contains(t,r._items[i])||(e&&r._items[i].push(t),!1):(e&&(r._items[i]=[t]),!1);case"undefined":return!!r._items[i]||(e&&(r._items[i]=!0),!1);case"object":if(null===t)return!!r._items.null||(e&&(r._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in r._items?!!_contains(t,r._items[i])||(e&&r._items[i].push(t),!1):(e&&(r._items[i]=[t]),!1)}}var uniqBy=_curry2(function(t,e){for(var r,n,i=new _Set,o=[],s=0;s<e.length;)r=t(n=e[s]),i.add(r)&&o.push(n),s+=1;return o}),uniq=uniqBy(identity$1),invoker=_curry2(function(t,e){return curryN(t+1,function(){var r=arguments[t];if(null!=r&&_isFunction(r[e]))return r[e].apply(r,Array.prototype.slice.call(arguments,0,t));throw new TypeError(toString$2(r)+' does not have a method named "'+e+'"')})}),join=invoker(1,"join"),juxt=_curry1(function(t){return converge(function(){return Array.prototype.slice.call(arguments,0)},t)}),sum=reduce$1(add,0),memoizeWith=_curry2(function(t,e){var r={};return _arity(e.length,function(){var n=t.apply(this,arguments);return _has(n,r)||(r[n]=e.apply(this,arguments)),r[n]})}),memoize=memoizeWith(function(){return toString$2(arguments)}),multiply=_curry2(function(t,e){return t*e});function _createPartialApplicator(t){return _curry2(function(e,r){return _arity(Math.max(0,e.length-r.length),function(){return e.apply(this,t(r,arguments))})})}var partialRight=_createPartialApplicator(flip(_concat)),partition$1=juxt([filter$6,reject]),pickAll=_curry2(function(t,e){for(var r={},n=0,i=t.length;n<i;){var o=t[n];r[o]=e[o],n+=1}return r}),product=reduce$1(multiply,1),useWith=_curry2(function(t,e){return curryN(e.length,function(){for(var r=[],n=0;n<e.length;)r.push(e[n].call(this,arguments[n])),n+=1;return t.apply(this,r.concat(Array.prototype.slice.call(arguments,e.length)))})}),project=useWith(_map,[pickAll,identity$1]),split=invoker(1,"split"),toLower=invoker(0,"toLowerCase"),toUpper=invoker(0,"toUpperCase"),transduce=curryN(4,function(t,e,r,n){return _reduce(t("function"==typeof e?_xwrap(e):e),r,n)}),ws="\t\n\v\f\r  \u2028\u2029\ufeff",zeroWidth="",hasProtoTrim="function"==typeof String.prototype.trim,_trim=hasProtoTrim&&!ws.trim()&&zeroWidth.trim()?function(t){return t.trim()}:function(t){var e=new RegExp("^["+ws+"]["+ws+"]*"),r=new RegExp("["+ws+"]["+ws+"]*$");return t.replace(e,"").replace(r,"")},union=_curry2(compose$1(uniq,_concat)),unnest=chain(_identity),sweetalert_min=createCommonjsModule(function(module,exports){module.exports=function(){return function(t){function e(n){if(r[n])return r[n].exports;var i=r[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var r={};return e.m=t,e.c=r,e.d=function(t,r,n){e.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(r,"a",r),r},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=8)}([function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n="swal-button";e.CLASS_NAMES={MODAL:"swal-modal",OVERLAY:"swal-overlay",SHOW_MODAL:"swal-overlay--show-modal",MODAL_TITLE:"swal-title",MODAL_TEXT:"swal-text",ICON:"swal-icon",ICON_CUSTOM:"swal-icon--custom",CONTENT:"swal-content",FOOTER:"swal-footer",BUTTON_CONTAINER:"swal-button-container",BUTTON:n,CONFIRM_BUTTON:n+"--confirm",CANCEL_BUTTON:n+"--cancel",DANGER_BUTTON:n+"--danger",BUTTON_LOADING:n+"--loading",BUTTON_LOADER:n+"__loader"},e.default=e.CLASS_NAMES},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.getNode=function(t){var e="."+t;return document.querySelector(e)},e.stringToNode=function(t){var e=document.createElement("div");return e.innerHTML=t.trim(),e.firstChild},e.insertAfter=function(t,e){var r=e.nextSibling;e.parentNode.insertBefore(t,r)},e.removeNode=function(t){t.parentElement.removeChild(t)},e.throwErr=function(t){throw"SweetAlert: "+(t=(t=t.replace(/ +(?= )/g,"")).trim())},e.isPlainObject=function(t){if("[object Object]"!==Object.prototype.toString.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype},e.ordinalSuffixOf=function(t){var e=t%10,r=t%100;return 1===e&&11!==r?t+"st":2===e&&12!==r?t+"nd":3===e&&13!==r?t+"rd":t+"th"}},function(t,e,r){function n(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),n(r(25));var i=r(26);e.overlayMarkup=i.default,n(r(27)),n(r(28)),n(r(29));var o=r(0),s=o.default.MODAL_TITLE,u=o.default.MODAL_TEXT,a=o.default.ICON,c=o.default.FOOTER;e.iconMarkup='\n  <div class="'+a+'"></div>',e.titleMarkup='\n  <div class="'+s+'"></div>\n',e.textMarkup='\n  <div class="'+u+'"></div>',e.footerMarkup='\n  <div class="'+c+'"></div>\n'},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1);e.CONFIRM_KEY="confirm",e.CANCEL_KEY="cancel";var i={visible:!0,text:null,value:null,className:"",closeModal:!0},o=Object.assign({},i,{visible:!1,text:"Cancel",value:null}),s=Object.assign({},i,{text:"OK",value:!0});e.defaultButtonList={cancel:o,confirm:s};var u=function(t){switch(t){case e.CONFIRM_KEY:return s;case e.CANCEL_KEY:return o;default:var r=t.charAt(0).toUpperCase()+t.slice(1);return Object.assign({},i,{text:r,value:t})}},a=function(t,e){var r=u(t);return!0===e?Object.assign({},r,{visible:!0}):"string"==typeof e?Object.assign({},r,{visible:!0,text:e}):n.isPlainObject(e)?Object.assign({visible:!0},r,e):Object.assign({},r,{visible:!1})},c=function(t){var r={};switch(t.length){case 1:r[e.CANCEL_KEY]=Object.assign({},o,{visible:!1});break;case 2:r[e.CANCEL_KEY]=a(e.CANCEL_KEY,t[0]),r[e.CONFIRM_KEY]=a(e.CONFIRM_KEY,t[1]);break;default:n.throwErr("Invalid number of 'buttons' in array ("+t.length+").\n      If you want more than 2 buttons, you need to use an object!")}return r};e.getButtonListOpts=function(t){var r=e.defaultButtonList;return"string"==typeof t?r[e.CONFIRM_KEY]=a(e.CONFIRM_KEY,t):Array.isArray(t)?r=c(t):n.isPlainObject(t)?r=function(t){for(var e={},r=0,n=Object.keys(t);r<n.length;r++){var i=n[r],s=t[i],u=a(i,s);e[i]=u}return e.cancel||(e.cancel=o),e}(t):!0===t?r=c([!0,!0]):!1===t?r=c([!1,!1]):void 0===t&&(r=e.defaultButtonList),r}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(2),o=r(0),s=o.default.MODAL,u=o.default.OVERLAY,a=r(30),c=r(31),l=r(32),f=r(33);e.injectElIntoModal=function(t){var e=n.getNode(s),r=n.stringToNode(t);return e.appendChild(r),r};var p=function(t,e){!function(t){t.className=s,t.textContent=""}(t);var r=e.className;r&&t.classList.add(r)};e.initModalContent=function(t){var e=n.getNode(s);p(e,t),a.default(t.icon),c.initTitle(t.title),c.initText(t.text),f.default(t.content),l.default(t.buttons,t.dangerMode)},e.default=function(){var t=n.getNode(u),e=n.stringToNode(i.modalMarkup);t.appendChild(e)}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),i={isOpen:!1,promise:null,actions:{},timer:null},o=Object.assign({},i);e.resetState=function(){o=Object.assign({},i)},e.setActionValue=function(t){if("string"==typeof t)return s(n.CONFIRM_KEY,t);for(var e in t)s(e,t[e])};var s=function(t,e){o.actions[t]||(o.actions[t]={}),Object.assign(o.actions[t],{value:e})};e.setActionOptionsFor=function(t,e){var r=(void 0===e?{}:e).closeModal,n=void 0===r||r;Object.assign(o.actions[t],{closeModal:n})},e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(3),o=r(0),s=o.default.OVERLAY,u=o.default.SHOW_MODAL,a=o.default.BUTTON,c=o.default.BUTTON_LOADING,l=r(5);e.openModal=function(){n.getNode(s).classList.add(u),l.default.isOpen=!0},e.onAction=function(t){void 0===t&&(t=i.CANCEL_KEY);var e=l.default.actions[t],r=e.value;if(!1===e.closeModal){var o=a+"--"+t;n.getNode(o).classList.add(c)}else n.getNode(s).classList.remove(u),l.default.isOpen=!1;l.default.promise.resolve(r)},e.getState=function(){var t=Object.assign({},l.default);return delete t.promise,delete t.timer,t},e.stopLoading=function(){for(var t=document.querySelectorAll("."+a),e=0;e<t.length;e++)t[e].classList.remove(c)}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||eval("this")}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,r){(function(e){t.exports=e.sweetAlert=r(9)}).call(e,r(7))},function(t,e,r){(function(e){t.exports=e.swal=r(10)}).call(e,r(7))},function(t,e,r){"undefined"!=typeof window&&r(11),r(16);var n=r(23).default;t.exports=n},function(t,e,r){var n=r(12);"string"==typeof n&&(n=[[t.i,n,""]]);var i={insertAt:"top",transform:void 0};r(14)(n,i),n.locals&&(t.exports=n.locals)},function(t,e,r){(t.exports=r(13)(void 0)).push([t.i,'.swal-icon--error{border-color:#f27474;-webkit-animation:animateErrorIcon .5s;animation:animateErrorIcon .5s}.swal-icon--error__x-mark{position:relative;display:block;-webkit-animation:animateXMark .5s;animation:animateXMark .5s}.swal-icon--error__line{position:absolute;height:5px;width:47px;background-color:#f27474;display:block;top:37px;border-radius:2px}.swal-icon--error__line--left{-webkit-transform:rotate(45deg);transform:rotate(45deg);left:17px}.swal-icon--error__line--right{-webkit-transform:rotate(-45deg);transform:rotate(-45deg);right:16px}@-webkit-keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@keyframes animateErrorIcon{0%{-webkit-transform:rotateX(100deg);transform:rotateX(100deg);opacity:0}to{-webkit-transform:rotateX(0deg);transform:rotateX(0deg);opacity:1}}@-webkit-keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}@keyframes animateXMark{0%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}50%{-webkit-transform:scale(.4);transform:scale(.4);margin-top:26px;opacity:0}80%{-webkit-transform:scale(1.15);transform:scale(1.15);margin-top:-6px}to{-webkit-transform:scale(1);transform:scale(1);margin-top:0;opacity:1}}.swal-icon--warning{border-color:#f8bb86;-webkit-animation:pulseWarning .75s infinite alternate;animation:pulseWarning .75s infinite alternate}.swal-icon--warning__body{width:5px;height:47px;top:10px;border-radius:2px;margin-left:-2px}.swal-icon--warning__body,.swal-icon--warning__dot{position:absolute;left:50%;background-color:#f8bb86}.swal-icon--warning__dot{width:7px;height:7px;border-radius:50%;margin-left:-4px;bottom:-11px}@-webkit-keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}@keyframes pulseWarning{0%{border-color:#f8d486}to{border-color:#f8bb86}}.swal-icon--success{border-color:#a5dc86}.swal-icon--success:after,.swal-icon--success:before{content:"";border-radius:50%;position:absolute;width:60px;height:120px;background:#fff;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.swal-icon--success:before{border-radius:120px 0 0 120px;top:-7px;left:-33px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:60px 60px;transform-origin:60px 60px}.swal-icon--success:after{border-radius:0 120px 120px 0;top:-11px;left:30px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-transform-origin:0 60px;transform-origin:0 60px;-webkit-animation:rotatePlaceholder 4.25s ease-in;animation:rotatePlaceholder 4.25s ease-in}.swal-icon--success__ring{width:80px;height:80px;border:4px solid hsla(98,55%,69%,.2);border-radius:50%;box-sizing:content-box;position:absolute;left:-4px;top:-4px;z-index:2}.swal-icon--success__hide-corners{width:5px;height:90px;background-color:#fff;padding:1px;position:absolute;left:28px;top:8px;z-index:1;-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}.swal-icon--success__line{height:5px;background-color:#a5dc86;display:block;border-radius:2px;position:absolute;z-index:2}.swal-icon--success__line--tip{width:25px;left:14px;top:46px;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation:animateSuccessTip .75s;animation:animateSuccessTip .75s}.swal-icon--success__line--long{width:47px;right:8px;top:38px;-webkit-transform:rotate(-45deg);transform:rotate(-45deg);-webkit-animation:animateSuccessLong .75s;animation:animateSuccessLong .75s}@-webkit-keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@keyframes rotatePlaceholder{0%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}5%{-webkit-transform:rotate(-45deg);transform:rotate(-45deg)}12%{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}to{-webkit-transform:rotate(-405deg);transform:rotate(-405deg)}}@-webkit-keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@keyframes animateSuccessTip{0%{width:0;left:1px;top:19px}54%{width:0;left:1px;top:19px}70%{width:50px;left:-8px;top:37px}84%{width:17px;left:21px;top:48px}to{width:25px;left:14px;top:45px}}@-webkit-keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}@keyframes animateSuccessLong{0%{width:0;right:46px;top:54px}65%{width:0;right:46px;top:54px}84%{width:55px;right:0;top:35px}to{width:47px;right:8px;top:38px}}.swal-icon--info{border-color:#c9dae1}.swal-icon--info:before{width:5px;height:29px;bottom:17px;border-radius:2px;margin-left:-2px}.swal-icon--info:after,.swal-icon--info:before{content:"";position:absolute;left:50%;background-color:#c9dae1}.swal-icon--info:after{width:7px;height:7px;border-radius:50%;margin-left:-3px;top:19px}.swal-icon{width:80px;height:80px;border-width:4px;border-style:solid;border-radius:50%;padding:0;position:relative;box-sizing:content-box;margin:20px auto}.swal-icon:first-child{margin-top:32px}.swal-icon--custom{width:auto;height:auto;max-width:100%;border:none;border-radius:0}.swal-icon img{max-width:100%;max-height:100%}.swal-title{color:rgba(0,0,0,.65);font-weight:600;text-transform:none;position:relative;display:block;padding:13px 16px;font-size:27px;line-height:normal;text-align:center;margin-bottom:0}.swal-title:first-child{margin-top:26px}.swal-title:not(:first-child){padding-bottom:0}.swal-title:not(:last-child){margin-bottom:13px}.swal-text{font-size:16px;position:relative;float:none;line-height:normal;vertical-align:top;text-align:left;display:inline-block;margin:0;padding:0 10px;font-weight:400;color:rgba(0,0,0,.64);max-width:calc(100% - 20px);overflow-wrap:break-word;box-sizing:border-box}.swal-text:first-child{margin-top:45px}.swal-text:last-child{margin-bottom:45px}.swal-footer{text-align:right;padding-top:13px;margin-top:13px;padding:13px 16px;border-radius:inherit;border-top-left-radius:0;border-top-right-radius:0}.swal-button-container{margin:5px;display:inline-block;position:relative}.swal-button{background-color:#7cd1f9;color:#fff;border:none;box-shadow:none;border-radius:5px;font-weight:600;font-size:14px;padding:10px 24px;margin:0;cursor:pointer}.swal-button[not:disabled]:hover{background-color:#78cbf2}.swal-button:active{background-color:#70bce0}.swal-button:focus{outline:none;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(43,114,165,.29)}.swal-button[disabled]{opacity:.5;cursor:default}.swal-button::-moz-focus-inner{border:0}.swal-button--cancel{color:#555;background-color:#efefef}.swal-button--cancel[not:disabled]:hover{background-color:#e8e8e8}.swal-button--cancel:active{background-color:#d7d7d7}.swal-button--cancel:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(116,136,150,.29)}.swal-button--danger{background-color:#e64942}.swal-button--danger[not:disabled]:hover{background-color:#df4740}.swal-button--danger:active{background-color:#cf423b}.swal-button--danger:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(165,43,43,.29)}.swal-content{padding:0 20px;margin-top:20px;font-size:medium}.swal-content:last-child{margin-bottom:20px}.swal-content__input,.swal-content__textarea{-webkit-appearance:none;background-color:#fff;border:none;font-size:14px;display:block;box-sizing:border-box;width:100%;border:1px solid rgba(0,0,0,.14);padding:10px 13px;border-radius:2px;transition:border-color .2s}.swal-content__input:focus,.swal-content__textarea:focus{outline:none;border-color:#6db8ff}.swal-content__textarea{resize:vertical}.swal-button--loading{color:transparent}.swal-button--loading~.swal-button__loader{opacity:1}.swal-button__loader{position:absolute;height:auto;width:43px;z-index:2;left:50%;top:50%;-webkit-transform:translateX(-50%) translateY(-50%);transform:translateX(-50%) translateY(-50%);text-align:center;pointer-events:none;opacity:0}.swal-button__loader div{display:inline-block;float:none;vertical-align:baseline;width:9px;height:9px;padding:0;border:none;margin:2px;opacity:.4;border-radius:7px;background-color:hsla(0,0%,100%,.9);transition:background .2s;-webkit-animation:swal-loading-anim 1s infinite;animation:swal-loading-anim 1s infinite}.swal-button__loader div:nth-child(3n+2){-webkit-animation-delay:.15s;animation-delay:.15s}.swal-button__loader div:nth-child(3n+3){-webkit-animation-delay:.3s;animation-delay:.3s}@-webkit-keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}@keyframes swal-loading-anim{0%{opacity:.4}20%{opacity:.4}50%{opacity:1}to{opacity:.4}}.swal-overlay{position:fixed;top:0;bottom:0;left:0;right:0;text-align:center;font-size:0;overflow-y:auto;background-color:rgba(0,0,0,.4);z-index:10000;pointer-events:none;opacity:0;transition:opacity .3s}.swal-overlay:before{content:" ";display:inline-block;vertical-align:middle;height:100%}.swal-overlay--show-modal{opacity:1;pointer-events:auto}.swal-overlay--show-modal .swal-modal{opacity:1;pointer-events:auto;box-sizing:border-box;-webkit-animation:showSweetAlert .3s;animation:showSweetAlert .3s;will-change:transform}.swal-modal{width:478px;opacity:0;pointer-events:none;background-color:#fff;text-align:center;border-radius:5px;position:static;margin:20px auto;display:inline-block;vertical-align:middle;-webkit-transform:scale(1);transform:scale(1);-webkit-transform-origin:50% 50%;transform-origin:50% 50%;z-index:10001;transition:opacity .2s,-webkit-transform .3s;transition:transform .3s,opacity .2s;transition:transform .3s,opacity .2s,-webkit-transform .3s}@media (max-width:500px){.swal-modal{width:calc(100% - 20px)}}@-webkit-keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}@keyframes showSweetAlert{0%{-webkit-transform:scale(1);transform:scale(1)}1%{-webkit-transform:scale(.5);transform:scale(.5)}45%{-webkit-transform:scale(1.05);transform:scale(1.05)}80%{-webkit-transform:scale(.95);transform:scale(.95)}to{-webkit-transform:scale(1);transform:scale(1)}}',""])},function(t,e){function r(t,e){var r=t[1]||"",n=t[3];if(!n)return r;if(e&&"function"==typeof btoa){var i=function(t){return"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(t))))+" */"}(n);return[r].concat(n.sources.map(function(t){return"/*# sourceURL="+n.sourceRoot+t+" */"})).concat([i]).join("\n")}return[r].join("\n")}t.exports=function(t){var e=[];return e.toString=function(){return this.map(function(e){var n=r(e,t);return e[2]?"@media "+e[2]+"{"+n+"}":n}).join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},i=0;i<this.length;i++){var o=this[i][0];"number"==typeof o&&(n[o]=!0)}for(i=0;i<t.length;i++){var s=t[i];"number"==typeof s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),e.push(s))}},e}},function(t,e,r){function n(t,e){for(var r=0;r<t.length;r++){var n=t[r],i=p[n.id];if(i){i.refs++;for(var o=0;o<i.parts.length;o++)i.parts[o](n.parts[o]);for(;o<n.parts.length;o++)i.parts.push(l(n.parts[o],e))}else{for(var s=[],o=0;o<n.parts.length;o++)s.push(l(n.parts[o],e));p[n.id]={id:n.id,refs:1,parts:s}}}}function i(t,e){for(var r=[],n={},i=0;i<t.length;i++){var o=t[i],s=e.base?o[0]+e.base:o[0],u=o[1],a=o[2],c=o[3],l={css:u,media:a,sourceMap:c};n[s]?n[s].parts.push(l):r.push(n[s]={id:s,parts:[l]})}return r}function o(t,e){var r=h(t.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=v[v.length-1];if("top"===t.insertAt)n?n.nextSibling?r.insertBefore(e,n.nextSibling):r.appendChild(e):r.insertBefore(e,r.firstChild),v.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(e)}}function s(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t);var e=v.indexOf(t);e>=0&&v.splice(e,1)}function u(t){var e=document.createElement("style");return t.attrs.type="text/css",c(e,t.attrs),o(t,e),e}function a(t){var e=document.createElement("link");return t.attrs.type="text/css",t.attrs.rel="stylesheet",c(e,t.attrs),o(t,e),e}function c(t,e){Object.keys(e).forEach(function(r){t.setAttribute(r,e[r])})}function l(t,e){var r,n,i,o;if(e.transform&&t.css){if(!(o=e.transform(t.css)))return function(){};t.css=o}if(e.singleton){var c=y++;r=b||(b=u(e)),n=f.bind(null,r,c,!1),i=f.bind(null,r,c,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=a(e),n=function(t,e,r){var n=r.css,i=r.sourceMap,o=void 0===e.convertToAbsoluteUrls&&i;(e.convertToAbsoluteUrls||o)&&(n=m(n)),i&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(i))))+" */");var s=new Blob([n],{type:"text/css"}),u=t.href;t.href=URL.createObjectURL(s),u&&URL.revokeObjectURL(u)}.bind(null,r,e),i=function(){s(r),r.href&&URL.revokeObjectURL(r.href)}):(r=u(e),n=function(t,e){var r=e.css,n=e.media;if(n&&t.setAttribute("media",n),t.styleSheet)t.styleSheet.cssText=r;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(r))}}.bind(null,r),i=function(){s(r)});return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else i()}}function f(t,e,r,n){var i=r?"":n.css;if(t.styleSheet)t.styleSheet.cssText=_(e,i);else{var o=document.createTextNode(i),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(o,s[e]):t.appendChild(o)}}var p={},d=function(t){var e;return function(){return void 0===e&&(e=function(){return window&&document&&document.all&&!window.atob}.apply(this,arguments)),e}}(),h=function(t){var e={};return function(t){return void 0===e[t]&&(e[t]=function(t){return document.querySelector(t)}.call(this,t)),e[t]}}(),b=null,y=0,v=[],m=r(15);t.exports=function(t,e){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(e=e||{}).attrs="object"==typeof e.attrs?e.attrs:{},e.singleton||(e.singleton=d()),e.insertInto||(e.insertInto="head"),e.insertAt||(e.insertAt="bottom");var r=i(t,e);return n(r,e),function(t){for(var o=[],s=0;s<r.length;s++){var u=r[s],a=p[u.id];a.refs--,o.push(a)}t&&n(i(t,e),e);for(var s=0;s<o.length;s++){var a=o[s];if(0===a.refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete p[a.id]}}}};var _=function(){var t=[];return function(e,r){return t[e]=r,t.filter(Boolean).join("\n")}}()},function(t,e){t.exports=function(t){var e="undefined"!=typeof window&&window.location;if(!e)throw new Error("fixUrls requires window.location");if(!t||"string"!=typeof t)return t;var r=e.protocol+"//"+e.host,n=r+e.pathname.replace(/\/[^\/]*$/,"/");return t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var i,o=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(o)?t:(i=0===o.indexOf("//")?o:0===o.indexOf("/")?r+o:n+o.replace(/^\.\//,""),"url("+JSON.stringify(i)+")")})}},function(t,e,r){var n=r(17);"undefined"==typeof window||window.Promise||(window.Promise=n),r(21),String.prototype.includes||(String.prototype.includes=function(t,e){return"number"!=typeof e&&(e=0),!(e+t.length>this.length)&&-1!==this.indexOf(t,e)}),Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(t,e){if(null==this)throw new TypeError('"this" is null or not defined');var r=Object(this),n=r.length>>>0;if(0===n)return!1;for(var i=0|e,o=Math.max(i>=0?i:n-Math.abs(i),0);o<n;){if(function(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}(r[o],t))return!0;o++}return!1}}),"undefined"!=typeof window&&function(t){t.forEach(function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})})}([Element.prototype,CharacterData.prototype,DocumentType.prototype])},function(t,e,r){(function(e){!function(r){function n(){}function i(t){if("object"!=typeof this)throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],c(t,this)}function o(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var r=1===t._state?e.onFulfilled:e.onRejected;if(null!==r){var n;try{n=r(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,n)}else(1===t._state?s:u)(e.promise,t._value)})):t._deferreds.push(e)}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var r=e.then;if(e instanceof i)return t._state=3,t._value=e,void a(t);if("function"==typeof r)return void c(function(t,e){return function(){t.apply(e,arguments)}}(r,e),t)}t._state=1,t._value=e,a(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,a(t)}function a(t){2===t._state&&0===t._deferreds.length&&i._immediateFn(function(){t._handled||i._unhandledRejectionFn(t._value)});for(var e=0,r=t._deferreds.length;e<r;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e){var r=!1;try{t(function(t){r||(r=!0,s(e,t))},function(t){r||(r=!0,u(e,t))})}catch(t){if(r)return;r=!0,u(e,t)}}var l=setTimeout;i.prototype.catch=function(t){return this.then(null,t)},i.prototype.then=function(t,e){var r=new this.constructor(n);return o(this,new function(t,e,r){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=r}(t,e,r)),r},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,r){function n(o,s){try{if(s&&("object"==typeof s||"function"==typeof s)){var u=s.then;if("function"==typeof u)return void u.call(s,function(t){n(o,t)},r)}e[o]=s,0==--i&&t(e)}catch(t){r(t)}}if(0===e.length)return t([]);for(var i=e.length,o=0;o<e.length;o++)n(o,e[o])})},i.resolve=function(t){return t&&"object"==typeof t&&t.constructor===i?t:new i(function(e){e(t)})},i.reject=function(t){return new i(function(e,r){r(t)})},i.race=function(t){return new i(function(e,r){for(var n=0,i=t.length;n<i;n++)t[n].then(e,r)})},i._immediateFn="function"==typeof e&&function(t){e(t)}||function(t){l(t,0)},i._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},i._setImmediateFn=function(t){i._immediateFn=t},i._setUnhandledRejectionFn=function(t){i._unhandledRejectionFn=t},void 0!==t&&t.exports?t.exports=i:r.Promise||(r.Promise=i)}(this)}).call(e,r(18).setImmediate)},function(t,e,r){function n(t,e){this._id=t,this._clearFn=e}var i=Function.prototype.apply;e.setTimeout=function(){return new n(i.call(setTimeout,window,arguments),clearTimeout)},e.setInterval=function(){return new n(i.call(setInterval,window,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},r(19),e.setImmediate=setImmediate,e.clearImmediate=clearImmediate},function(t,e,r){(function(t,e){!function(t,r){function n(t){delete u[t]}function i(t){if(a)setTimeout(i,0,t);else{var e=u[t];if(e){a=!0;try{!function(t){var e=t.callback,n=t.args;switch(n.length){case 0:e();break;case 1:e(n[0]);break;case 2:e(n[0],n[1]);break;case 3:e(n[0],n[1],n[2]);break;default:e.apply(r,n)}}(e)}finally{n(t),a=!1}}}}if(!t.setImmediate){var o,s=1,u={},a=!1,c=t.document,l=Object.getPrototypeOf&&Object.getPrototypeOf(t);l=l&&l.setTimeout?l:t,"[object process]"==={}.toString.call(t.process)?o=function(t){e.nextTick(function(){i(t)})}:function(){if(t.postMessage&&!t.importScripts){var e=!0,r=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=r,e}}()?function(){var e="setImmediate$"+Math.random()+"$",r=function(r){r.source===t&&"string"==typeof r.data&&0===r.data.indexOf(e)&&i(+r.data.slice(e.length))};t.addEventListener?t.addEventListener("message",r,!1):t.attachEvent("onmessage",r),o=function(r){t.postMessage(e+r,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){i(t.data)},o=function(e){t.port2.postMessage(e)}}():c&&"onreadystatechange"in c.createElement("script")?function(){var t=c.documentElement;o=function(e){var r=c.createElement("script");r.onreadystatechange=function(){i(e),r.onreadystatechange=null,t.removeChild(r),r=null},t.appendChild(r)}}():o=function(t){setTimeout(i,0,t)},l.setImmediate=function(t){"function"!=typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),r=0;r<e.length;r++)e[r]=arguments[r+1];var n={callback:t,args:e};return u[s]=n,o(s),s++},l.clearImmediate=n}}("undefined"==typeof self?void 0===t?this:t:self)}).call(e,r(7),r(20))},function(t,e){function r(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function i(t){if(c===setTimeout)return setTimeout(t,0);if((c===r||!c)&&setTimeout)return c=setTimeout,setTimeout(t,0);try{return c(t,0)}catch(e){try{return c.call(null,t,0)}catch(e){return c.call(this,t,0)}}}function o(){h&&p&&(h=!1,p.length?d=p.concat(d):b=-1,d.length&&s())}function s(){if(!h){var t=i(o);h=!0;for(var e=d.length;e;){for(p=d,d=[];++b<e;)p&&p[b].run();b=-1,e=d.length}p=null,h=!1,function(t){if(l===clearTimeout)return clearTimeout(t);if((l===n||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}(t)}}function u(t,e){this.fun=t,this.array=e}function a(){}var c,l,f=t.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:r}catch(t){c=r}try{l="function"==typeof clearTimeout?clearTimeout:n}catch(t){l=n}}();var p,d=[],h=!1,b=-1;f.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];d.push(new u(t,e)),1!==d.length||h||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=a,f.addListener=a,f.once=a,f.off=a,f.removeListener=a,f.removeAllListeners=a,f.emit=a,f.prependListener=a,f.prependOnceListener=a,f.listeners=function(t){return[]},f.binding=function(t){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(t){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(t,e,r){r(22).polyfill()},function(t,e,r){function n(t,e){if(void 0===t||null===t)throw new TypeError("Cannot convert first argument to object");for(var r=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(void 0!==i&&null!==i)for(var o=Object.keys(Object(i)),s=0,u=o.length;s<u;s++){var a=o[s],c=Object.getOwnPropertyDescriptor(i,a);void 0!==c&&c.enumerable&&(r[a]=i[a])}}return r}t.exports={assign:n,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:n})}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(24),i=r(6),o=r(5),s=r(36),u=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if("undefined"!=typeof window){var r=s.getOpts.apply(void 0,t);return new Promise(function(t,e){o.default.promise={resolve:t,reject:e},n.default(r),setTimeout(function(){i.openModal()})})}};u.close=i.onAction,u.getState=i.getState,u.setActionValue=o.setActionValue,u.stopLoading=i.stopLoading,u.setDefaults=s.setDefaults,e.default=u},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(0),o=i.default.MODAL,s=r(4),u=r(34),a=r(35),c=r(1);e.init=function(t){n.getNode(o)||(document.body||c.throwErr("You can only use SweetAlert AFTER the DOM has loaded!"),u.default(),s.default()),s.initModalContent(t),a.default(t)},e.default=e.init},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=n.default.MODAL;e.modalMarkup='\n  <div class="'+i+'" role="dialog" aria-modal="true"></div>',e.default=e.modalMarkup},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=n.default.OVERLAY,o='<div \n    class="'+i+'"\n    tabIndex="-1">\n  </div>';e.default=o},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=n.default.ICON;e.errorIconMarkup=function(){var t=i+"--error",e=t+"__line";return'\n    <div class="'+t+'__x-mark">\n      <span class="'+e+" "+e+'--left"></span>\n      <span class="'+e+" "+e+'--right"></span>\n    </div>\n  '},e.warningIconMarkup=function(){var t=i+"--warning";return'\n    <span class="'+t+'__body">\n      <span class="'+t+'__dot"></span>\n    </span>\n  '},e.successIconMarkup=function(){var t=i+"--success";return'\n    <span class="'+t+"__line "+t+'__line--long"></span>\n    <span class="'+t+"__line "+t+'__line--tip"></span>\n\n    <div class="'+t+'__ring"></div>\n    <div class="'+t+'__hide-corners"></div>\n  '}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=n.default.CONTENT;e.contentMarkup='\n  <div class="'+i+'">\n\n  </div>\n'},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),i=n.default.BUTTON_CONTAINER,o=n.default.BUTTON,s=n.default.BUTTON_LOADER;e.buttonMarkup='\n  <div class="'+i+'">\n\n    <button\n      class="'+o+'"\n    ></button>\n\n    <div class="'+s+'">\n      <div></div>\n      <div></div>\n      <div></div>\n    </div>\n\n  </div>\n'},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(4),i=r(2),o=r(0),s=o.default.ICON,u=o.default.ICON_CUSTOM,a=["error","warning","success","info"],c={error:i.errorIconMarkup(),warning:i.warningIconMarkup(),success:i.successIconMarkup()};e.default=function(t){if(t){var e=n.injectElIntoModal(i.iconMarkup);a.includes(t)?function(t,e){var r=s+"--"+t;e.classList.add(r);var n=c[t];n&&(e.innerHTML=n)}(t,e):function(t,e){e.classList.add(u);var r=document.createElement("img");r.src=t,e.appendChild(r)}(t,e)}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(2),i=r(4),o=function(t){navigator.userAgent.includes("AppleWebKit")&&(t.style.display="none",t.offsetHeight,t.style.display="")};e.initTitle=function(t){if(t){var e=i.injectElIntoModal(n.titleMarkup);e.textContent=t,o(e)}},e.initText=function(t){if(t){var e=document.createDocumentFragment();t.split("\n").forEach(function(t,r,n){e.appendChild(document.createTextNode(t)),r<n.length-1&&e.appendChild(document.createElement("br"))});var r=i.injectElIntoModal(n.textMarkup);r.appendChild(e),o(r)}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(4),o=r(0),s=o.default.BUTTON,u=o.default.DANGER_BUTTON,a=r(3),c=r(2),l=r(6),f=r(5),p=function(t,e,r){var i=e.text,o=e.value,p=e.className,d=e.closeModal,h=n.stringToNode(c.buttonMarkup),b=h.querySelector("."+s),y=s+"--"+t;b.classList.add(y),p&&(Array.isArray(p)?p:p.split(" ")).filter(function(t){return t.length>0}).forEach(function(t){b.classList.add(t)}),r&&t===a.CONFIRM_KEY&&b.classList.add(u),b.textContent=i;var v={};return v[t]=o,f.setActionValue(v),f.setActionOptionsFor(t,{closeModal:d}),b.addEventListener("click",function(){return l.onAction(t)}),h};e.default=function(t,e){var r=i.injectElIntoModal(c.footerMarkup);for(var n in t){var o=t[n],s=p(n,o,e);o.visible&&r.appendChild(s)}0===r.children.length&&r.remove()}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(3),i=r(4),o=r(2),s=r(5),u=r(6),a=r(0),c=a.default.CONTENT,l=function(t){t.addEventListener("input",function(t){var e=t.target,r=e.value;s.setActionValue(r)}),t.addEventListener("keyup",function(t){if("Enter"===t.key)return u.onAction(n.CONFIRM_KEY)}),setTimeout(function(){t.focus(),s.setActionValue("")},0)};e.default=function(t){if(t){var e=i.injectElIntoModal(o.contentMarkup),r=t.element,n=t.attributes;"string"==typeof r?function(t,e,r){var n=document.createElement(e),i=c+"__"+e;for(var o in n.classList.add(i),r){var s=r[o];n[o]=s}"input"===e&&l(n),t.appendChild(n)}(e,r,n):e.appendChild(r)}}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(2);e.default=function(){var t=n.stringToNode(i.overlayMarkup);document.body.appendChild(t)}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(5),i=r(6),o=r(1),s=r(3),u=r(0),a=u.default.MODAL,c=u.default.BUTTON,l=u.default.OVERLAY,f=function(t){if(n.default.isOpen)switch(t.key){case"Escape":return i.onAction(s.CANCEL_KEY)}},p=function(t){if(n.default.isOpen)switch(t.key){case"Tab":return function(t){t.preventDefault(),h()}(t)}},d=function(t){if(n.default.isOpen)return"Tab"===t.key&&t.shiftKey?function(t){t.preventDefault(),b()}(t):void 0},h=function(){var t=o.getNode(c);t&&(t.tabIndex=0,t.focus())},b=function(){var t=o.getNode(a),e=t.querySelectorAll("."+c),r=e.length-1,n=e[r];n&&n.focus()},y=function(){var t=o.getNode(a),e=t.querySelectorAll("."+c);e.length&&(function(t){t[t.length-1].addEventListener("keydown",p)}(e),function(t){t[0].addEventListener("keydown",d)}(e))},v=function(t){if(o.getNode(l)===t.target)return i.onAction(s.CANCEL_KEY)};e.default=function(t){t.closeOnEsc?document.addEventListener("keyup",f):document.removeEventListener("keyup",f),t.dangerMode?h():b(),y(),function(t){var e=o.getNode(l);e.removeEventListener("click",v),t&&e.addEventListener("click",v)}(t.closeOnClickOutside),function(t){n.default.timer&&clearTimeout(n.default.timer),t&&(n.default.timer=window.setTimeout(function(){return i.onAction(s.CANCEL_KEY)},t))}(t.timer)}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i=r(3),o=r(37),s=r(38),u={title:null,text:null,icon:null,buttons:i.defaultButtonList,content:null,className:null,closeOnClickOutside:!0,closeOnEsc:!0,dangerMode:!1,timer:null},a=Object.assign({},u);e.setDefaults=function(t){a=Object.assign({},u,t)};var c=function(t){var e=t&&t.button,r=t&&t.buttons;return void 0!==e&&void 0!==r&&n.throwErr("Cannot set both 'button' and 'buttons' options!"),void 0!==e?{confirm:e}:r},l=function(t){return n.ordinalSuffixOf(t+1)},f=function(t,e){n.throwErr(l(e)+" argument ('"+t+"') is invalid")},p=function(t,e){var r=t+1,i=e[r];n.isPlainObject(i)||void 0===i||n.throwErr("Expected "+l(r)+" argument ('"+i+"') to be a plain object")},d=function(t,e,r,i){var o=typeof e,s="string"===o,u=e instanceof Element;if(s){if(0===r)return{text:e};if(1===r)return{text:e,title:i[0]};if(2===r)return p(r,i),{icon:e};f(e,r)}else{if(u&&0===r)return p(r,i),{content:e};if(n.isPlainObject(e))return function(t,e){var r=t+1,i=e[r];void 0!==i&&n.throwErr("Unexpected "+l(r)+" argument ("+i+")")}(r,i),e;f(e,r)}};e.getOpts=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r={};t.forEach(function(e,n){var i=d(0,e,n,t);Object.assign(r,i)});var n=c(r);r.buttons=i.getButtonListOpts(n),delete r.button,r.content=o.getContentOpts(r.content);var l=Object.assign({},u,a,r);return Object.keys(l).forEach(function(t){s.DEPRECATED_OPTS[t]&&s.logDeprecation(t)}),l}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0});var n=r(1),i={element:"input",attributes:{placeholder:""}};e.getContentOpts=function(t){return n.isPlainObject(t)?Object.assign({},t):t instanceof Element?{element:t}:"input"===t?i:null}},function(t,e,r){Object.defineProperty(e,"__esModule",{value:!0}),e.logDeprecation=function(t){var r=e.DEPRECATED_OPTS[t],n=r.onlyRename,i=r.replacement,o=r.subOption,s=r.link,u=n?"renamed":"deprecated",a='SweetAlert warning: "'+t+'" option has been '+u+".";i&&(a+=" Please use"+(o?' "'+o+'" in ':" ")+'"'+i+'" instead.');var c="https://sweetalert.js.org";a+=s?" More details: "+c+s:" More details: "+c+"/guides/#upgrading-from-1x",console.warn(a)},e.DEPRECATED_OPTS={type:{replacement:"icon",link:"/docs/#icon"},imageUrl:{replacement:"icon",link:"/docs/#icon"},customClass:{replacement:"className",onlyRename:!0,link:"/docs/#classname"},imageSize:{},showCancelButton:{replacement:"buttons",link:"/docs/#buttons"},showConfirmButton:{replacement:"button",link:"/docs/#button"},confirmButtonText:{replacement:"button",link:"/docs/#button"},confirmButtonColor:{},cancelButtonText:{replacement:"buttons",link:"/docs/#buttons"},closeOnConfirm:{replacement:"button",subOption:"closeModal",link:"/docs/#button"},closeOnCancel:{replacement:"buttons",subOption:"closeModal",link:"/docs/#buttons"},showLoaderOnConfirm:{replacement:"buttons"},animation:{},inputType:{replacement:"content",link:"/docs/#content"},inputValue:{replacement:"content",link:"/docs/#content"},inputPlaceholder:{replacement:"content",link:"/docs/#content"},html:{replacement:"content",link:"/docs/#content"},allowEscapeKey:{replacement:"closeOnEsc",onlyRename:!0,link:"/docs/#closeonesc"},allowClickOutside:{replacement:"closeOnClickOutside",onlyRename:!0,link:"/docs/#closeonclickoutside"}}}])}()}),swal=unwrapExports(sweetalert_min),sweetalert_min_1=sweetalert_min.swal,activePredictionModel="query GetProjectPredictionModel($projectId: ID!){\n  project(where:{id:$projectId}){\n    id\n    activePredictionModel {\n      id\n    }\n  }\n}",getProjectPredictionModelId=memoize(function(t){return sendQuery({query:activePredictionModel,variables:{projectId:t}}).then(function(t){var e=t&&t.data&&t.data.project&&t.data.project;return e&&e.activePredictionModel&&e.activePredictionModel.id})}),selectAsset=function(t,e){return void 0===e&&(e=""),t.assets[e]},selectCurrentAssetId=function(t){return t.currentAsset&&t.currentAsset.id},selectCurrentAsset=function(t){return selectAsset(t,selectCurrentAssetId(t))},selectCurrentAssetLabelId=function(t){return(selectCurrentAsset(t)||{}).labelId},whitelistCurrentAssetForDeveloper=function(t){return t&&{id:t.id,dataRowId:t.datarowId,data:t.data,label:t.label,previous:t.previousLabelId,next:t.nextLabelId,createdAt:t.createdAt,createdBy:t.createdBy,typeName:t.typeName,labelTemplateId:t.labelTemplateId,labelTemplates:t.labelTemplates||void 0,externalId:t.externalId,metadata:t.metadata}},selectUnlabeledAsset=function(t){return values(t.assets).filter(function(t){var e=t.label,r=t.labelBeingSaved;return void 0===e&&!r}).sort(function(t,e){return t.fetchedAt-e.fetchedAt})},selectNextAssetIdToLabel=function(t){var e=selectUnlabeledAsset(t)[0];return e?e.id:void 0},shouldPreloadNewAsset=function(t){return selectUnlabeledAsset(t).length<3},selectCurrentAssetStartTime=function(t){return t.currentAsset?t.currentAsset.startTime:void 0},selectUser=function(t){return t.user},hasPreviousAssetId=function(t){return Boolean(t.currentAssetHistory[0])},selectRecommendTemplateId=function(t){var e=t.labelTemplates,r=t.activePredictionModelId,n=e&&e.find(function(t){var e=t.predictionModel;return Boolean(e&&e.id===r)});if(n)return n.id;var i=e&&e.find(function(t){var e=t.predictionModel;return!Boolean(e)});return i?i.id:void 0},__assign$3=function(){return(__assign$3=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},ACTION_NAMES;!function(t){t.LABEL_SUBMITTED="LABEL_SUBMITTED",t.ASSET_FETCHED="ASSET_FETCHED_SUCCESSFULLY",t.APPLICATION_INIT="APPLICATION_INIT",t.USER_FETCHED_FROM_SERVER="USER_FETCHED_FROM_SERVER",t.USER_CREATED_LABEL="USER_CREATED_LABEL",t.LABEL_SAVE_SUCCESS="LABEL_SAVE_SUCCESS",t.USER_REQUESTED_PREVIOUS_LABEL="USER_REQUESTED_PREVIOUS_LABEL",t.USER_REQUESTED_NEXT_LABEL="USER_REQUESTED_NEXT_LABEL",t.LABEL_HISTORY_FETCHED="LABEL_HISTORY_FETCHED",t.SET_LABEL_AS_CURRENT_ASSET="SET_LABEL_AS_CURRENT_ASSET",t.NO_MORE_ITEMS_TO_LABEL="NO_MORE_ITEMS_TO_LABEL",t.SET_LAST_CURRENT_ASSET="SET_LAST_CURRENT_ASSET",t.USER_REQUESTED_NEXT_UNLABELED_ASSET="USER_REQUESTED_NEXT_UNLABELED_ASSET",t.ASSET_PRELOADED="ASSET_PRELOADED",t.FETCH_ASSET="FETCH_ASSET",t.STATE_INVALID_FOR_LABELING="STATE_INVALID_FOR_LABELING",t.FAILED_TO_SAVE_LABEL="FAILED_TO_SAVE_LABEL",t.RESERVATIONS_EXTENDED="RESERVATIONS_EXTENDED"}(ACTION_NAMES||(ACTION_NAMES={}));var setNewCurrentAsset=function(t,e){return __assign$3({},t,{currentAsset:e,currentAssetHistory:[e].concat(t.currentAssetHistory)})},defaultState={currentAsset:void 0,currentAssetHistory:[],assets:{},preloading:!1,error:null};function reducer(t,e){var r,n,i,o;void 0===t&&(t=defaultState);var s=e||{},u=s.type,a=void 0===u?void 0:u,c=s.payload,l=void 0===c?void 0:c;switch(a){case ACTION_NAMES.ASSET_FETCHED:var f=l.startTime?setNewCurrentAsset(t,{id:l.asset.id,startTime:l.startTime}):t;return __assign$3({},f,{assets:__assign$3({},t.assets,(r={},r[l.asset.id]=l.asset,r))});case ACTION_NAMES.LABEL_SUBMITTED:return __assign$3({},t,{error:null});case ACTION_NAMES.STATE_INVALID_FOR_LABELING:return console.error("An error occurred prepping for label submission."),__assign$3({},t,{error:__assign$3({},t.error,{invalidState:l.message})});case ACTION_NAMES.FAILED_TO_SAVE_LABEL:return console.error("An error occurred saving the label"),__assign$3({},t,{error:__assign$3({},t.error,{savingLabel:l.error.errors})});case ACTION_NAMES.APPLICATION_INIT:var p=l.projectId,d=l.token;return __assign$3({},t,{projectId:p,token:d});case ACTION_NAMES.USER_FETCHED_FROM_SERVER:return __assign$3({},t,{user:l.user});case ACTION_NAMES.LABEL_SAVE_SUCCESS:return __assign$3({},t,{assets:__assign$3({},t.assets,(n={},n[l.assetId]=__assign$3({},t.assets[l.assetId],{label:l.label,labelBeingSaved:!1,labelId:l.labelId,typeName:l.typeName,createdAt:l.createdAt,createdBy:t.user.email}),n))});case ACTION_NAMES.LABEL_HISTORY_FETCHED:return __assign$3({},t,{assets:__assign$3({},t.assets,(i={},i[l.assetId]=__assign$3({},t.assets[l.assetId],{previousLabelId:l.previousId,nextLabelId:l.nextId}),i))});case ACTION_NAMES.NO_MORE_ITEMS_TO_LABEL:return __assign$3({},t,{currentAsset:t.currentAssetHistory[0]});case ACTION_NAMES.USER_REQUESTED_NEXT_UNLABELED_ASSET:var h=selectNextAssetIdToLabel(t);if(h){var b=t.currentAssetHistory.find(function(t){var e=t.id;return h===e});return setNewCurrentAsset(t,__assign$3({},b||{id:h},{startTime:(new Date).getTime()}))}return __assign$3({},t,{currentAsset:void 0});case ACTION_NAMES.USER_CREATED_LABEL:return __assign$3({},t,{assets:__assign$3({},t.assets,(o={},o[l.assetId]=__assign$3({},t.assets[l.assetId],{labelBeingSaved:!0}),o))});case ACTION_NAMES.SET_LABEL_AS_CURRENT_ASSET:return __assign$3({},t,{currentAsset:void 0});default:return t}}var appInit=function(t){var e=t.projectId,r=t.token,n=t.labelId;return{type:ACTION_NAMES.APPLICATION_INIT,payload:{projectId:e,token:r,labelId:n}}},assetFetched=function(t,e){return void 0===e&&(e=!1),{type:ACTION_NAMES.ASSET_FETCHED,payload:__assign$3({asset:t,current:e},e?{startTime:(new Date).getTime()}:{})}},userFetchedFromServer=function(t){return{type:ACTION_NAMES.USER_FETCHED_FROM_SERVER,payload:{user:t}}},userRequestNextUnlabeledAsset=function(){return{type:ACTION_NAMES.USER_REQUESTED_NEXT_UNLABELED_ASSET,payload:{}}},reservationsExtended=function(){return{type:ACTION_NAMES.RESERVATIONS_EXTENDED,payload:{}}},labelChangeSuccess=function(t,e,r,n,i){return{type:ACTION_NAMES.LABEL_SAVE_SUCCESS,payload:{assetId:t,label:e,labelId:r,typeName:n,createdAt:i}}},setLabelAsCurrentAsset=function(t){return{type:ACTION_NAMES.SET_LABEL_AS_CURRENT_ASSET,payload:{labelId:t}}},labelHistorySuccessfullyFetchedForAsset=function(t,e,r){return{type:ACTION_NAMES.LABEL_HISTORY_FETCHED,payload:{assetId:t,previousId:e,nextId:r}}},noMoreItemsToLabel=function(){return{type:ACTION_NAMES.NO_MORE_ITEMS_TO_LABEL,payload:{}}},assetPreloaded=function(t){return{type:ACTION_NAMES.ASSET_PRELOADED,payload:{assetId:t}}},fetchAsset=function(t){var e=t.setAsCurrent;return{type:ACTION_NAMES.FETCH_ASSET,payload:{setAsCurrent:e}}},labelSubmitted=function(t){return{type:ACTION_NAMES.LABEL_SUBMITTED,payload:t}},setNode,bodyNode$=new Promise(function(t){return setNode=t});function getBodyNode(){return bodyNode$}window.addEventListener("load",function(){return setNode(document.body)});var sendMessage=callOnce(function(t){getBodyNode().then(function(e){e.innerHTML=t})}),getUserQuery="query GetUser {\n  user {\n    id,\n    name,\n    email,\n    organization {\n      id\n    }\n  }\n}\n";function fetchUser(){return sendQuery({query:getUserQuery}).then(function(t){if(t&&t.data.user){var e=t.data.user;return{id:e.id,name:e.name,email:e.email,organizationId:e.organization.id}}})}var getLabeledAssetQuery="query GetLabeledAsset($labelId: ID!){\n  label(where:{id: $labelId}){\n    id\n    label\n    createdAt\n    createdBy{\n      email\n    }\n    dataRow {\n      id\n      rowData\n      skippedBy{\n        id\n      }\n      metadata{\n        id\n        metaType\n        metaValue\n      }\n    }\n    type{\n      id\n      name\n    }\n  }\n}\n";function fetchLabeledAsset(t){return sendQuery({query:getLabeledAssetQuery,variables:{labelId:t}}).then(function(t){var e=t&&t.data.label;if(e)return{id:e.id,datarowId:e.dataRow.id,data:e.dataRow.rowData,label:e.label,labelId:e.id,createdAt:e.createdAt,createdBy:e.createdBy.email,typeName:e.type.name,metadata:e.dataRow.metadata}})}var getNextRow="query GetNextRow($projectId: ID!, $dataRowIdsToSkip: [ID!]!){\n  nextDataRowToLabel(\n    projectId: $projectId,\n    dataRowIdsToSkip: $dataRowIdsToSkip,\n  ){\n    id\n    rowData\n    externalId\n    labelTemplates {\n      id\n      label\n      predictionModel { id }\n    }\n    metadata {\n      id\n      metaType\n      metaValue\n    }\n  }\n}\n",Errors;!function(t){t.LOGIN="Please Login",t.UNAUTHORIZED="Unauthorized",t.NOT_FOUND="Project not found",t.NO_MORE_LABELS="NO_MORE_LABELS",t.SKIP_CHECKOUT="Checkout disabled"}(Errors||(Errors={}));var getNextRowToLabel=function(t){var e=t.projectId,r=t.dataRowIdsToSkip,n=void 0===r?[]:r;return"false"===new URL(window.location.href).searchParams.get("checkout")?Promise.reject(Errors.SKIP_CHECKOUT):new Promise(function(t,r){sendQuery({query:getNextRow,variables:{projectId:e,dataRowIdsToSkip:n}}).then(function(e){if(!e)return r(Errors.UNAUTHORIZED);if(e.errors){if(e.errors.some(function(t){return 3008===t.code}))return r(Errors.UNAUTHORIZED);var n=e.errors[0]&&e.errors[0].functionError;return"Unauthorized"===n?r(Errors.UNAUTHORIZED):"Project not found"===n?r(Errors.NOT_FOUND):"Please Login"===n?r(Errors.LOGIN):(console.error("Unknown error for getNextRow",JSON.stringify(e.errors)),r(Errors.UNAUTHORIZED))}var i=e.data.nextDataRowToLabel;if(!i)return r(Errors.NO_MORE_LABELS);var o=i.id,s=i.rowData,u=i.labelTemplates,a=i.externalId,c=i.metadata;t({id:o,rowData:s,labelTemplates:u,externalId:a,metadata:c})})})};function onInitEffects(t,e){var r=t.projectId,n=t.token;0===window.location.href.indexOf("file://")?sendMessage('\n      Please open this file in a local server.<br><br>\n      If you look at the url it says "file://" and your browser won\'t let you communicate with the Labelbox server.<br></br>\n      Dont worry this is easy to fix!<br><br>\n\n      If your on chrome you can install <a href="https://chrome.google.com/webstore/detail/web-server-for-chrome/ofhbbkphhbklhfoeikjpcbhemlocgigb?hl=en">this extension</a> and then select this folder.<br></br>\n\n      OR<br></br>\n\n      You can also start a local server via the command line. "python -m SimpleHTTPServer" or "npm install -g http-server; http-server -p 8080"\n    '):r?n||window.location.assign(labelboxDomain+"/signin?redirect_project="+r):window.location.assign(labelboxDomain+"/signin?development_url="+window.location.href.split("?")[0]),window.addEventListener("message",function(t){var r=t.data;r&&r.changeLabel&&e(setLabelAsCurrentAsset(r.changeLabel))}),window.top&&window.top.postMessage&&window.top.postMessage({status:"ready-for-commands"},"*")}var getProjectQueueStatus="query GetProjectQueueState($projectId: ID!){\n  project(where:{id:$projectId}){\n    id\n    queueIsBuilding\n  }\n}\n",__awaiter$2=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{a(n.next(t))}catch(t){o(t)}}function u(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,u)}a((n=n.apply(t,e||[])).next())})},__generator$2=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};function isQueueBuilt(t){return sendQuery({query:getProjectQueueStatus,variables:{projectId:t}}).then(function(t){return t&&t.data&&t.data.project?!Boolean(t.data.project.queueIsBuilding):(console.log("Project not found",t),!1)})}function resolveWhenQueueIsBuilt(t,e,r){var n=this;return void 0===r&&(r=0),isQueueBuilt(t).then(function(i){return __awaiter$2(n,void 0,void 0,function(){return __generator$2(this,function(n){switch(n.label){case 0:return i?[2,i]:(r%10==0&&track(e,"Queue is stuck building",{sla:!0,description:"ProjectId: "+t}),4===r&&track(e,"Queue is slow to build",{frustration:!0,description:"ProjectId: "+t}),[4,wait(3e3)]);case 1:return n.sent(),[2,resolveWhenQueueIsBuilt(t,e,r+1)]}})})})}var labelTooLongCheck=function(t){return Boolean(t&&t.errors&&t.errors.some(function(t){return 3007===t.code}))},notLoggedInChecked=function(t){return Boolean(t&&t.errors&&t.errors.some(function(t){return"Please sign in"===t.message}))};function showLabelTooLongErrorMessage(){var t=document.createElement("div");t.innerHTML='Currently the maximum label size is 256kb. If you are labeling a map please break it into smaller pieces with our <a href="https://support.labelbox.com/docs/tiled-imagery" target="_blank">bounds parameter</a>. Also please reach out to our support team or comment on our <a href="https://github.com/Labelbox/Labelbox/issues/102" target="_blank">github issue</a>. Labelbox is alerted anytime a user hits this error.',swal({title:"Label Exceeds Maximum Supported Size",content:t})}function unauthorizedTroubleShoot(){getToken()&&(removeToken(),window.location.reload())}function troubleShootLabelChangeRequest(t,e){if(labelTooLongCheck(e)){var r=selectUser(t);return showLabelTooLongErrorMessage(),void(r&&track(r,"Label Update Failed: Label too long",{alert:!0}))}notLoggedInChecked(e)&&unauthorizedTroubleShoot()}var labelsCreatedByUser="query GetLabelCreatedByUser($projectId: ID!, $after: String, $orderBy: LabelOrderByInput!){\n  user{\n    createdLabels(\n    \twhere:{\n        project:{\n          id: $projectId\n        }\n        deleted: false\n      },\n      first: 1,\n      after: $after,\n      orderBy: $orderBy\n    ){\n      id\n      createdAt\n    }\n  }\n}\n",__assign$2=function(){return(__assign$2=Object.assign||function(t){for(var e,r=1,n=arguments.length;r<n;r++)for(var i in e=arguments[r])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},__awaiter$1=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{a(n.next(t))}catch(t){o(t)}}function u(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,u)}a((n=n.apply(t,e||[])).next())})},__generator$1=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},waitForQueueToBuild=memoize(resolveWhenQueueIsBuilt),skipHistory=!1,LabelTypes;function onAction(t,e,r){return __awaiter$1(this,void 0,void 0,function(){var n,i,o,s,u,a,c,l,f,p,d,h,b,y,v,m=this;return __generator$1(this,function(_){switch(_.label){case 0:if(n=function(e,n){if(!skipHistory){var i=function(e,r){return sendQuery({query:labelsCreatedByUser,variables:{projectId:t.projectId,after:e,orderBy:r}}).then(function(t){var e=get(function(){return t.data.user.createdLabels});return e&&e[0]&&e[0].id})},o=void 0===n?Promise.resolve(void 0):i(n,"createdAt_ASC"),s=i(n,"createdAt_DESC");Promise.all([s,o]).then(function(t){var n=t[0],i=t[1];r(labelHistorySuccessfullyFetchedForAsset(e,n,i))})}},i=window.location.href,o=getQueryParam(i,"label"),s=selectCurrentAssetLabelId(t),(o||s)&&o!==s&&(u=setQueryParam(i,"label",s),window.history.pushState({path:u},"",u)),e.type===ACTION_NAMES.APPLICATION_INIT){if(onInitEffects(e.payload,r),fetchUser().then(function(t){t?(identifyUser(t),r(userFetchedFromServer(t))):unauthorizedTroubleShoot()},function(){unauthorizedTroubleShoot()}),!e.payload.projectId)return console.error("Cant load any labels because the project is unknown",e.payload),[2];e.payload.labelId?r(setLabelAsCurrentAsset(e.payload.labelId)):r(userRequestNextUnlabeledAsset())}return e.type===ACTION_NAMES.USER_REQUESTED_NEXT_UNLABELED_ASSET&&((p=selectNextAssetIdToLabel(t))?((a=t.assets[p]).previousLabelId&&a.nextLabelId||n(p,a.label),shouldPreloadNewAsset(t)&&r(fetchAsset({setAsCurrent:!1}))):r(fetchAsset({setAsCurrent:!0}))),e.type!==ACTION_NAMES.FETCH_ASSET?[3,2]:t.projectId?[4,waitForQueueToBuild(t.projectId,selectUser(t)||{})]:(console.error("Cant fetch next asset without a projectId",t),[2]);case 1:_.sent(),c=values(t.assets).filter(function(t){return!t.labelId}).map(function(t){return t.datarowId}),l=e.payload.setAsCurrent,getNextRowToLabel({projectId:t.projectId,dataRowIdsToSkip:c}).then(function(e){return __awaiter$1(m,void 0,void 0,function(){var n,i,o,s,u;return __generator$1(this,function(a){switch(a.label){case 0:return e?(n=r,i=assetFetched,o={id:e.id,datarowId:e.id,fetchedAt:(new Date).getTime(),data:e.rowData,label:void 0},s=selectRecommendTemplateId,u={labelTemplates:e.labelTemplates},[4,getProjectPredictionModelId(t.projectId)]):[3,2];case 1:return n.apply(void 0,[i.apply(void 0,[(o.labelTemplateId=s.apply(void 0,[(u.activePredictionModelId=a.sent(),u)]),o.labelTemplates=e.labelTemplates,o.externalId=e.externalId,o.metadata=e.metadata,o),l])]),[3,3];case 2:l&&r(noMoreItemsToLabel()),a.label=3;case 3:return[2]}})})},function(t){if(t===Errors.NO_MORE_LABELS)l&&r(noMoreItemsToLabel());else if(t===Errors.UNAUTHORIZED)unauthorizedTroubleShoot();else{if(t===Errors.SKIP_CHECKOUT)return;sendMessage(t)}}),_.label=2;case 2:if(e.type===ACTION_NAMES.LABEL_SAVE_SUCCESS&&(f=selectCurrentAsset(t))&&n(f.id,f.labelId),e.type===ACTION_NAMES.SET_LABEL_AS_CURRENT_ASSET){if(t.assets[e.payload.labelId])return r(assetFetched(t.assets[e.payload.labelId],!0)),[2];fetchLabeledAsset(e.payload.labelId).then(function(t){t?r(assetFetched(t,!0)):unauthorizedTroubleShoot()},function(){unauthorizedTroubleShoot()})}return e.type===ACTION_NAMES.ASSET_FETCHED&&(e.payload.current&&(p=e.payload.asset.id,d=e.payload.asset.labelId,n(p,d)),shouldPreloadNewAsset(t)&&r(fetchAsset({setAsCurrent:!1}))),e.type===ACTION_NAMES.NO_MORE_ITEMS_TO_LABEL&&((h=selectUser(t))&&0===t.currentAssetHistory.length&&track(h,"Start Labeling --\x3e All Done",{frustration:!0,description:"ProjectId: "+t.projectId}),b={text:"Close",value:null,visible:!0,className:"",closeModal:!0},y={text:"Go to Labelbox",value:!0,visible:!0,className:"",closeModal:!0},v=hasPreviousAssetId(t),window.top!==window.self?swal({title:"All done!",text:"No more items to label.",icon:"success",button:!1}):swal(__assign$2({title:"All done!",text:"No more items to label.",icon:"success"},v?{buttons:[b,y]}:{button:y,closeOnClickOutside:!1,closeOnEsc:!1,className:"no-"})).then(function(e){e&&window.location.assign(labelboxDomain+"/projects/"+t.projectId)}),v||(document.querySelector(".swal-overlay").style="background-color: #dddddd;")),[2]}})})}!function(t){t.ANY="Any",t.SKIP="Skip"}(LabelTypes||(LabelTypes={}));var createLabelMutation="mutation CreateLabel(\n    $label: String!,\n    $secondsToLabel: Float!,\n    $rowId: ID!,\n    $projectId: ID!,\n    $typeName: String!,\n  ){\n  createLabel(\n    data:{\n      label: $label,\n      secondsToLabel: $secondsToLabel,\n      dataRow: {\n        connect: {\n          id: $rowId\n        }\n      },\n      project: {\n        connect: {\n          id: $projectId\n        }\n      },\n      type: {\n        connect: {\n          name: $typeName\n        }\n      },\n    }\n  ) {\n    id\n    createdAt\n    type{\n      name\n    }\n  }\n}\n";function createLabel$1(t){var e=t.projectId,r=t.rowId,n=t.label,i=t.user,o=t.secondsToLabel,s=t.typeName;return track(i,"Labeled Data"),sendQuery({query:createLabelMutation,variables:{label:n,projectId:e,rowId:r,secondsToLabel:o,typeName:s}}).then(function(t){var e=t&&t.data&&t.data.createLabel;if(!e)throw t;var n=e.id,i=e.createdAt,o=e.type.name;return{id:n,createdAt:i,assetId:r,typeName:o}})}var updateLabelMutation="mutation UpdateLabel($id: ID!, $label: String!, $typeName: String!){\n  updateLabel(\n    where:{\n      id: $id\n    }\n    data:{\n      label: $label,\n      type: {\n        connect: {\n          name: $typeName\n        }\n      }\n    }\n  ){\n    id\n    createdAt\n    updatedAt\n    type{\n      name\n    }\n  }\n}\n";function updateLabel(t,e,r){return sendQuery({query:updateLabelMutation,variables:{id:t,label:e,typeName:r}}).then(function(t){var e=t&&t.data&&t.data.updateLabel;if(!e)throw t;var r=e.id;return{id:r,createdAt:e.createdAt,updatedAt:e.updatedAt,assetId:r,typeName:e.type.name}})}var __awaiter$3=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{a(n.next(t))}catch(t){o(t)}}function u(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,u)}a((n=n.apply(t,e||[])).next())})},__generator$3=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}},_this=void 0;function secondsBetweenTimes(t,e){return Math.abs((t-e)/1e3)}var checkForErrors=function(t,e){var r=selectCurrentAssetStartTime(t),n=selectCurrentAsset(t);return selectUser(t)?t.projectId?n?"string"!=typeof e?"Label must be a string not "+typeof e+". Label: "+JSON.stringify(e):r?null:"Start time not found for asset":"No current asset":"No current project":"User not yet loaded"},initiateLabelCreation=function(t,e){var r=e.typeName,n=e.label,i=selectCurrentAsset(t),o=selectUser(t),s=selectCurrentAssetStartTime(t);return createLabel$1({assetId:i.id,projectId:t.projectId,rowId:i.datarowId,label:n,user:o,secondsToLabel:secondsBetweenTimes(s,(new Date).getTime()),typeName:r})},retryStrategy=function(t){var e=void 0===t?{}:t,r=e.maxRetryAttempts,n=void 0===r?3:r,i=e.scalingDuration,o=void 0===i?500:i,s=e.noRetryChecks,u=void 0===s?[]:s;return function(t){return t.pipe(mergeMap(function(t,e){var r=e+1;return console.log("Error",t),r>n||u.some(function(e){return e(t)})?throwError(t):(console.log("Attempt "+r+": retrying in "+r*o+"ms"),timer(r*o))}))}},createdIds=new Set,labelSubmissionEpic=function(t,e){var r=t.pipe(ofType(ACTION_NAMES.LABEL_SUBMITTED),debounceTime(300),withLatestFrom(e),map(function(t){var e=t[0],r=t[1],n=e.payload.label,i=checkForErrors(r,n);return i?{error:!0,message:i,state:r}:{error:!1,action:e,state:r}}));return merge(r.pipe(filter(function(t){return t.error}),map(function(t){var e=t.message;return{type:ACTION_NAMES.STATE_INVALID_FOR_LABELING,payload:{message:e}}})),r.pipe(filter(function(t){return!t.error}),concatMap(function(t){var e=t.state,r=t.action;return defer(function(){return __awaiter$3(_this,void 0,void 0,function(){var t,n,i,o,s,u,a;return __generator$3(this,function(c){if(t=selectCurrentAsset(e),!r)return console.log("Action is undefined"),[2,{response:null}];if(!t)return console.log("Error: CurrentAsset is undefined"),[2,{response:null}];if(n=t.datarowId,i=r.payload,o=i.label,s=i.typeName,u=s||t.typeName||LabelTypes.ANY,t.label&&t.labelId){if(debugLog("Updating "+n),!t.labelId)return console.log("Error: CurrentAsset.labelId is Undefined"+JSON.stringify(t)),[2,{response:null}];a=updateLabel(t.labelId,o,u)}else createdIds.has(n)?(debugLog("Aborting any action. Asset "+t.datarowId+" was already labeled."),a=Promise.resolve(null)):(debugLog("Saving "+n),a=initiateLabelCreation(e,{label:o,typeName:u}).then(function(t){return createdIds.add(n),t}));return[2,a.then(function(t){return{response:t,action:r}})]})})}).pipe(filter(function(t){return null!==t.response}),retryWhen(retryStrategy({maxRetryAttempts:5,noRetryChecks:[labelTooLongCheck,notLoggedInChecked]})),map(function(t){var e=t.response,r=e.id,n=e.createdAt,i=e.assetId,o=e.typeName,s=t.action;return labelChangeSuccess(i,s.payload.label,r,o,n)}),catchError(function(t){return troubleShootLabelChangeRequest(e,t),of({type:ACTION_NAMES.FAILED_TO_SAVE_LABEL,payload:{error:t}})}))})))},extendReservations="mutation ExtendReservations($projectId: ID!) {\n    extendReservations(\n        projectId: $projectId\n        queueType: LabelingQueue\n    )\n}\n",__awaiter$4=function(t,e,r,n){return new(r||(r=Promise))(function(i,o){function s(t){try{a(n.next(t))}catch(t){o(t)}}function u(t){try{a(n.throw(t))}catch(t){o(t)}}function a(t){t.done?i(t.value):new r(function(e){e(t.value)}).then(s,u)}a((n=n.apply(t,e||[])).next())})},__generator$4=function(t,e){var r,n,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function u(o){return function(u){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;s;)try{if(r=1,n&&(i=2&o[0]?n.return:o[0]?n.throw||((i=n.return)&&i.call(n),0):n.next)&&!(i=i.call(n,o[1])).done)return i;switch(n=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,n=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=(i=s.trys).length>0&&i[i.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],n=0}finally{r=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,u])}}};function keepReservationsFromExpiring(t,e){return __awaiter$4(this,void 0,void 0,function(){var r;return __generator$4(this,function(n){return(r=e.projectId)?[2,t({query:extendReservations,variables:{projectId:r}})]:[2]})})}var every10Minutes=6e5,extendReservationsEpic=function(t,e){return t.pipe(take(1),switchMap(function(){return timer(0,every10Minutes).pipe(switchMap(function(){return e.pipe(take(1))}),switchMap(function(t){return keepReservationsFromExpiring(sendQuery,t)}))}),map(function(){return reservationsExtended()}))},preloadAssetEpic=function(t){return t.ofType(ACTION_NAMES.ASSET_FETCHED).pipe(filter(function(t){return!t.payload.current}),mergeMap(function(t){var e=getPreloader();if(!e)return of(!1);var r=whitelistCurrentAssetForDeveloper(t.payload.asset);if(!r)return console.error("Unable to preload undefined asset"),of(!1);try{var n=e(r);return"function"!=typeof n.then?(console.error("Preloading function must return a promise that resolves when the asset is loaded."),of(!1)):defer(function(){return n.then(function(){return r}).catch(function(t){return console.warn("Error occurred preloading next asset:",t),!1})})}catch(t){return console.warn("Error occurred preloading next asset:",t),of(!1)}}),filter(Boolean),map(function(t){return assetPreloaded(t.id)}))},rootEpic=combineEpics(labelSubmissionEpic,preloadAssetEpic,extendReservationsEpic),epicMiddleware=createEpicMiddleware(),effectMiddleware=function(t){var e=t.dispatch,r=t.getState;return function(t){return function(n){var i=t(n);return onAction(r(),n,e),i}}},logger=function(t){return function(e){return function(r){debugLog("dispatching",r);var n=e(r);return debugLog("next state",t.getState()),n}}},middlewares=[logger,epicMiddleware,effectMiddleware];useLogRocket()&&middlewares.push(LogRocket.reduxMiddleware());var configureStore=function(){var t=createStore(reducer,applyMiddleware.apply(void 0,middlewares));return epicMiddleware.run(rootEpic),t},store=configureStore(),state$=new BehaviorSubject(store.getState()),getState=function(){return store.getState()};store.subscribe(function(){return state$.next(store.getState())});var dispatch$8=function(t){store.dispatch(t)},initURL=window.location.href,initialProjectId=getQueryParam(initURL,"project");function setLabelForAsset(t,e){return dispatch$8(labelSubmitted({label:t,typeName:e})),merge(state$.pipe(map(function(t){return selectCurrentAsset(t)}),filter(function(e){return Boolean(e&&e.label===t&&!e.labelBeingSaved)}),map(Boolean)),state$.pipe(filter(function(t){return Boolean(t.error)}),map(function(t){return t.error}),mergeMap(function(t){return throwError(t)}))).pipe(take(1)).toPromise()}window.addEventListener("load",function(){dispatch$8(appInit({projectId:initialProjectId,labelId:getQueryParam(initURL,"label"),token:getToken()}))});var main={setLabelForAsset:setLabelForAsset,fetchNextAssetToLabel:function(){var t=selectCurrentAsset(getState()),e=t&&t.id,r=state$.pipe(map(selectCurrentAsset),filter(function(t){return Boolean(t&&t.id!==e)}),map(function(t){return t.data}),take(1)).toPromise();return dispatch$8(userRequestNextUnlabeledAsset()),r},setLabelAsCurrentAsset:function(t){return dispatch$8(setLabelAsCurrentAsset(t))},getTemplateCustomization:generateTemplateCustomizationFunction({projectId:initialProjectId}),currentAsset:function(){return state$.pipe(map(selectCurrentAsset),map(whitelistCurrentAssetForDeveloper),distinctUntilChanged(function(t,e){return equals(t,e)}),tap(function(t){return debugLog("Emitting asset: ",t)}))},skip:function(){return setLabelForAsset("Skip",LabelTypes.SKIP)},enablePreloading:function(t){var e=t.preloadFunction;"function"==typeof e?registerPreloader(e):console.error("Please call Labelbox.enablePreloading({preloadFunction: YOUR_FUNCTION_TO_PRELOAD}).")}};return main});

